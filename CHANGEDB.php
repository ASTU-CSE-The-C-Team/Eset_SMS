<?
//USE ;end TO SEPERATE SQL STATEMENTS. DON'T USE ;end IN ANY OTHER PLACES!

$sql=array() ;
$count=0 ;

//v1.7.00
$sql[$count][0]="1.7.00" ;
$sql[$count][1]="ALTER TABLE `gibbonActivity` CHANGE `payment` `payment` DECIMAL( 6, 2 ) NOT NULL ;end
ALTER TABLE `gibbonCourseClass` CHANGE `nameShort` `nameShort` VARCHAR( 5 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ;end
UPDATE `gibbonAction` SET `URLList`='tt.php, tt_add.php, tt_edit.php, tt_delete.php, tt_edit_day_add.php, tt_edit_day_edit.php, tt_edit_day_delete.php, tt_edit_day_edit_class.php, tt_edit_day_edit_class_delete.php, tt_edit_day_edit_class_add.php, tt_edit_day_edit_class_edit.php, tt_edit_day_edit_class_exception.php, tt_edit_day_edit_class_exception_add.php, tt_edit_day_edit_class_exception_delete.php' WHERE `gibbonAction`.`gibbonActionID` =0000048;end
CREATE TABLE `gibbonTTDayRowClassException` (`gibbonTTDayRowClassExceptionID` INT( 14 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonTTDayRowClassID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonPersonID` INT( 10 ) UNSIGNED ZEROFILL NOT NULL) ENGINE=MYISAM ;end
ALTER TABLE `gibbonPerson` ADD `address1District` VARCHAR( 255 ) NOT NULL AFTER `address1` , ADD `address1Country` VARCHAR( 255 ) NOT NULL AFTER `address1District` ;end
ALTER TABLE `gibbonPerson` ADD `address2District` VARCHAR( 255 ) NOT NULL AFTER `address2` , ADD `address2Country` VARCHAR( 255 ) NOT NULL AFTER `address2District` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `address1District` VARCHAR( 255 ) NOT NULL AFTER `address1` , ADD `address1Country` VARCHAR( 255 ) NOT NULL AFTER `address1District` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `address2District` VARCHAR( 255 ) NOT NULL AFTER `address2` , ADD `address2Country` VARCHAR( 255 ) NOT NULL AFTER `address2District` ;end
ALTER TABLE `gibbonLearningAreaStaff` CHANGE `role` `role` ENUM( 'Coordinator', 'Assistant Coordinator', 'Teacher (Curriculum)', 'Teacher', 'Other' ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ;end
ALTER TABLE `gibbonPersonMedicalUpdate` ADD `status` ENUM( 'Pending', 'Complete' ) NOT NULL DEFAULT 'Pending' AFTER `gibbonPersonMedicalUpdateID` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `status` ENUM( 'Pending', 'Complete' ) NOT NULL DEFAULT 'Pending' AFTER `gibbonPersonUpdateID` ;end
INSERT INTO `gibbonAction` (`gibbonActionID` ,`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`)VALUES ('73', '10', 'Student Data Updater History', '0', 'Personal Data', 'Allows users to check, for a group of students, how recently they have been updated', 'report_student_dataUpdaterHistory.php', 'report_student_dataUpdaterHistory.php', 'Y', 'Y', 'N', 'N', 'Y', 'N', 'Y', 'Y', 'Y');end
UPDATE `gibbonAction` SET `category`='Personal Data' WHERE `gibbonAction`.`gibbonActionID` =0000011;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', '73'), (NULL , '2', '73'), (NULL , '6', '73') ;end
UPDATE `gibbonAction` SET `categoryPermissionStaff`='Y',`categoryPermissionStudent`='N',`categoryPermissionParent`='N',`categoryPermissionOther`='N' WHERE `gibbonAction`.`gibbonActionID` =0000073;end
ALTER TABLE `gibbonMarkbookColumn` CHANGE `type` `type` ENUM( 'Unit', 'Test', 'Exam', 'Essay', 'Reflection', 'Homework', 'End of Year', 'Other' ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ;end
INSERT INTO `gibbonAction` (`gibbonActionID` ,`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`)VALUES ('75', '10', 'Medical Data Summary', '0', 'Personal Data', 'Allows users to show a summary of medical data for a group of students.', 'report_student_medicalSummary.php, report_student_medicalSummary_print.php', 'report_student_medicalSummary.php', 'Y', 'Y', 'N', 'N', 'Y', 'N', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', '75'), (NULL , '2', '75'), (NULL , '6', '75') ;end
DELETE FROM gibbonRole WHERE gibbonRoleID=020 ;end
UPDATE `gibbonAction` SET `URLList`='report_parentSMS_byYearGroup.php',`entryURL`='report_parentSMS_byYearGroup.php' WHERE `gibbonAction`.`gibbonActionID` =0000011;end
UPDATE gibbonAction SET name='Parent SMS by Year Group' WHERE gibbonActionID=011;end
INSERT INTO `gibbonAction` (`gibbonActionID` ,`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport`) VALUES ('76', '10', 'Emergency SMS by Year Group', '0', 'Personal Data', 'Output all emergency numbers by year group.', 'report_emergencySMS_byYearGroup.php', 'report_emergencySMS_byYearGroup.php', 'Y', 'N', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`)VALUES (NULL , '1', '76');end
ALTER TABLE `gibbonPlannerEntry` ADD `homeworkSubmissionRequired` ENUM( 'Optional', 'Compulsory' ) NOT NULL DEFAULT 'Optional' AFTER `homeworkSubmissionType` ;end
INSERT INTO `gibbonAction` (`gibbonActionID` ,`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`)VALUES ('77', '10', 'Emergency Data Summary', '0', 'Personal Data', 'Allows users to show a summary of emergency contact data for a group of students.', 'report_student_emergencySummary.php, report_student_emergencySummary_print.php', 'report_student_emergencySummary.php', 'Y', 'Y', 'N', 'N', 'Y', 'N', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', '77'), (NULL , '2', '77'), (NULL , '6', '77') ;end
UPDATE `gibbonAction` SET `categoryPermissionStudent`='N',`categoryPermissionParent`='N',`categoryPermissionOther`='N' WHERE `gibbonAction`.`gibbonActionID` =0000072;end
UPDATE `gibbonAction` SET `categoryPermissionStaff`='Y',`categoryPermissionStudent`='N',`categoryPermissionParent`='N',`categoryPermissionOther`='N' WHERE `gibbonAction`.`gibbonActionID` =0000075;end
UPDATE `gibbonAction` SET `categoryPermissionStudent`='N',`categoryPermissionParent`='N',`categoryPermissionOther`='N' WHERE `gibbonAction`.`gibbonActionID` =0000076;end
UPDATE `gibbonAction` SET `categoryPermissionStaff`='Y',`categoryPermissionStudent`='N',`categoryPermissionParent`='N',`categoryPermissionOther`='N' WHERE `gibbonAction`.`gibbonActionID` =0000077;end
INSERT INTO `gibbonModule` (`gibbonModuleID` ,`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`)VALUES ('17', 'Application Form', 'Allows users, with or without an account, to apply for student places.', 'applicationForm.php', 'Core', 'Y', 'People', '', 'Ross Parker', 'http://rossparker.org') ;end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ('74', '17', 'Apply', '0', '', 'Allows users, with or without an account, to apply for student place.', 'applicationForm.php', 'applicationForm.php', 'Y', 'Y', 'N', 'Y', 'Y', 'N', 'N', 'Y', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID`, `gibbonRoleID`, `gibbonActionID`) VALUES (NULL, '1', '74'), (NULL, '2', '74'), (NULL, '4', '74'), (NULL, '6', '74');end
INSERT INTO `gibbonSystemSetting` VALUES(00019, 'organisationAdmissionsName', 'Admissions Officer', '', '');end
INSERT INTO `gibbonSystemSetting` VALUES(00020, 'organisationAdmissionsEmail', 'Admissions Officer Email', '', '');end
UPDATE `gibbonAction` SET `category`='Admissions' WHERE `gibbonAction`.`gibbonActionID` =0000070;end
INSERT INTO `gibbonAction` (`gibbonActionID` ,`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`)VALUES ('1', '1', 'Application Form', '0', 'Admissions', 'Allows admins to control the application form', 'applicationFormSettings.php', 'applicationFormSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`)VALUES (NULL , '1', '1');end
CREATE TABLE `gibbonApplicationFormSetting` ( `gibbonApplicationFormSettingsID` int(5) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(30) NOT NULL, `nameDisplay` varchar(40) NOT NULL, `description` varchar(255) NOT NULL, `value` text NOT NULL, PRIMARY KEY (`gibbonApplicationFormSettingsID`), UNIQUE KEY `name` (`name`), UNIQUE KEY `nameDisplay` (`nameDisplay`)) ENGINE=MyISAM DEFAULT CHARSET=latin1 ;end
INSERT INTO `gibbonApplicationFormSetting` VALUES(00001, 'introduction', 'Introduction', 'Information to display before the form', '');end
INSERT INTO `gibbonApplicationFormSetting` VALUES(00002, 'postscript', 'Postscript', 'Information to display at the end of the form', '');end
INSERT INTO `gibbonApplicationFormSetting` (`gibbonApplicationFormSettingsID` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'scholarships', 'Scholarships', 'Information to display before the scholarship options', '');end
INSERT INTO `gibbonApplicationFormSetting` (`gibbonApplicationFormSettingsID`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'agreement', 'Agreement', 'Without this text, which is displayed above the agreement, users will not be asked to agree to anything', '');end
INSERT INTO `gibbonApplicationFormSetting` (`gibbonApplicationFormSettingsID` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'publicApplications', 'Public Applications?', 'If yes, members of the public can submit applications', 'Y');end
ALTER TABLE `gibbonFamily` ADD `status` ENUM( 'Married', 'Separated', 'Divorced', 'De Facto', 'Other' ) NOT NULL ;end
INSERT INTO `gibbonSystemSetting` (`gibbonSystemSettingsID`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'country', 'country', 'The country the school is located in', '');end
CREATE TABLE `gibbonApplicationForm` ( `gibbonApplicationFormID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT, `surname` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `firstName` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `otherNames` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `preferredName` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `officialName` varchar(150) CHARACTER SET latin1 NOT NULL, `nameInCharacters` varchar(20) NOT NULL, `gender` enum('M','F') CHARACTER SET latin1 NOT NULL DEFAULT 'M', `status` enum('Pending','Accepted','Rejected') CHARACTER SET latin1 NOT NULL DEFAULT 'Pending', `dob` date DEFAULT NULL, `email` varchar(50) CHARACTER SET latin1 DEFAULT NULL, `address1` mediumtext CHARACTER SET latin1 NOT NULL, `address1District` varchar(255) NOT NULL, `address1Country` varchar(255) NOT NULL, `mobile1` varchar(20) CHARACTER SET latin1 NOT NULL, `landline1` varchar(20) CHARACTER SET latin1 NOT NULL, `countryOfBirth` varchar(30) CHARACTER SET latin1 NOT NULL, `citizenship1` varchar(30) CHARACTER SET latin1 NOT NULL, `citizenship1Passport` varchar(30) CHARACTER SET latin1 NOT NULL, `nationalIDCardCountry` varchar(30) CHARACTER SET latin1 NOT NULL, `nationalIDCardNumber` varchar(30) CHARACTER SET latin1 NOT NULL, `visaType` varchar(30) NOT NULL, `gibbonSchoolYearIDEntry` int(3) unsigned zerofill NOT NULL, `gibbonYearGroupIDEntry` int(3) unsigned zerofill NOT NULL, `schoolName1` varchar(50) NOT NULL, `schoolAddress1` varchar(255) NOT NULL, `schoolGrades1` varchar(20) NOT NULL, `schoolLanguage1` varchar(50) NOT NULL, `schoolDate1` date DEFAULT NULL, `schoolName2` varchar(50) NOT NULL, `schoolAddress2` varchar(255) NOT NULL, `schoolGrades2` varchar(20) NOT NULL, `schoolLanguage2` varchar(50) NOT NULL, `schoolDate2` date DEFAULT NULL, `gibbonFamilyID` int(7) DEFAULT NULL, `siblingName1` varchar(50) NOT NULL, `siblingDOB1` date DEFAULT NULL, `siblingSchool1` varchar(50) NOT NULL, `siblingSchoolJoiningDate1` date DEFAULT NULL, `siblingName2` varchar(50) NOT NULL, `siblingDOB2` date DEFAULT NULL, `siblingSchool2` varchar(50) NOT NULL, `siblingSchoolJoiningDate2` date DEFAULT NULL, `siblingName3` varchar(50) NOT NULL, `siblingDOB3` date DEFAULT NULL, `siblingSchool3` varchar(50) NOT NULL, `siblingSchoolJoiningDate3` date DEFAULT NULL, `homeLanguage1` varchar(30) NOT NULL, `homeLanguage2` varchar(30) NOT NULL, `homeLanguage3` varchar(30) NOT NULL, `homeLanguage4` varchar(30) NOT NULL, `medicalInformation` text NOT NULL, `developmentInformation` text NOT NULL, `scholarshipInterest` enum('N','Y') NOT NULL DEFAULT 'N', `scholarshipRequired` enum('N','Y') NOT NULL DEFAULT 'N', `payment` enum('Family','Company') NOT NULL DEFAULT 'Family', `companyName` varchar(100) NOT NULL, `companyContact` varchar(100) NOT NULL, `companyAddress` varchar(255) NOT NULL, `companyEmail` varchar(255) NOT NULL, `companyPhone` varchar(20) NOT NULL, `agreement` enum('N','Y') NOT NULL DEFAULT 'N', `parent1surname` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent1firstName` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent1otherNames` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent1preferredName` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent1nameInCharacters` varchar(20) NOT NULL, `parent1gender` enum('M','F') CHARACTER SET latin1 NOT NULL DEFAULT 'M', `parent1homeLanguage1` varchar(30) NOT NULL, `parent1homeLanguage2` varchar(30) NOT NULL, `parent1citizenship1` varchar(30) CHARACTER SET latin1 NOT NULL, `parent1nationalIDCardCountry` varchar(30) CHARACTER SET latin1 NOT NULL, `parent1nationalIDCardNumber` varchar(30) CHARACTER SET latin1 NOT NULL, `parent1visaType` varchar(30) NOT NULL, `parent1email` varchar(50) CHARACTER SET latin1 DEFAULT NULL, `parent1address1` mediumtext CHARACTER SET latin1 NOT NULL, `parent1address1District` varchar(255) NOT NULL, `parent1address1Country` varchar(255) NOT NULL, `parent1mobile1` varchar(20) CHARACTER SET latin1 NOT NULL, `parent1landline1` varchar(20) CHARACTER SET latin1 NOT NULL, `parent1contactCall` enum('Y','N') NOT NULL DEFAULT 'Y', `parent1contactSMS` enum('Y','N') NOT NULL DEFAULT 'Y', `parent1contactEmail` enum('Y','N') NOT NULL DEFAULT 'Y', `parent1contactMail` enum('Y','N') NOT NULL DEFAULT 'Y', `parent1profession` varchar(30) CHARACTER SET latin1 DEFAULT NULL, `parent1employer` varchar(30) CHARACTER SET latin1 DEFAULT NULL, `parent2surname` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent2firstName` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent2otherNames` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent2preferredName` varchar(30) CHARACTER SET latin1 NOT NULL DEFAULT '', `parent2nameInCharacters` varchar(20) NOT NULL, `parent2gender` enum('M','F') CHARACTER SET latin1 NOT NULL DEFAULT 'M', `parent2homeLanguage1` varchar(30) NOT NULL, `parent2homeLanguage2` varchar(30) NOT NULL, `parent2citizenship1` varchar(30) CHARACTER SET latin1 NOT NULL, `parent2nationalIDCardCountry` varchar(30) CHARACTER SET latin1 NOT NULL, `parent2nationalIDCardNumber` varchar(30) CHARACTER SET latin1 NOT NULL, `parent2visaType` varchar(30) NOT NULL, `parent2email` varchar(50) CHARACTER SET latin1 DEFAULT NULL, `parent2address1` mediumtext CHARACTER SET latin1 NOT NULL, `parent2address1District` varchar(255) NOT NULL, `parent2address1Country` varchar(255) NOT NULL, `parent2mobile1` varchar(20) CHARACTER SET latin1 NOT NULL, `parent2landline1` varchar(20) CHARACTER SET latin1 NOT NULL, `parent2contactCall` enum('Y','N') NOT NULL DEFAULT 'Y', `parent2contactSMS` enum('Y','N') NOT NULL DEFAULT 'Y', `parent2contactEmail` enum('Y','N') NOT NULL DEFAULT 'Y', `parent2contactMail` enum('Y','N') NOT NULL DEFAULT 'Y', `parent2profession` varchar(30) CHARACTER SET latin1 DEFAULT NULL, `parent2employer` varchar(30) CHARACTER SET latin1 DEFAULT NULL, PRIMARY KEY (`gibbonApplicationFormID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 ;end
UPDATE `gibbonSystemSetting` SET `nameDisplay`='Country' WHERE `gibbonSystemSetting`.`gibbonSystemSettingsID` =00021;end
UPDATE `gibbonAction` SET `categoryPermissionStaff`='Y',`categoryPermissionStudent`='Y',`categoryPermissionOther`='Y' WHERE `gibbonAction`.`gibbonActionID` =0000074;end" ;

//v1.7.01
$count++ ;
$sql[$count][0]="1.7.01" ;
$sql[$count][1]="ALTER TABLE `gibbonApplicationForm` ADD `timestamp` TIMESTAMP NOT NULL ;end" ;

//v2.0.00
$count++ ;
$sql[$count][0]="2.0.00" ;
$sql[$count][1]="UPDATE `gibbonAction` SET `name`='Lesson Planner_viewAllEditMyClasses',`description`='View all planner information and edit all planner information for classes user is in' WHERE `gibbonAction`.`gibbonActionID` =0000036;end
INSERT INTO `gibbonAction` VALUES(0000078, 0002, 'Manage Applications', 0, 'Admissions', 'Allows admins to view and action applications', 'applicationForm_manage.php, applicationForm_manage_edit.php, applicationForm_manage_delete.php, applicationForm_manage_enrol.php', 'applicationForm_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`)VALUES (NULL , '1', '78');end
UPDATE `gibbonAction` SET `gibbonModuleID`='0002' WHERE `gibbonAction`.`gibbonActionID` =0000070;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0002' WHERE `gibbonAction`.`gibbonActionID` =0000001;end
UPDATE `gibbonAction` SET `name`='Application Form Settings' WHERE `gibbonAction`.`gibbonActionID` =0000001;end
ALTER TABLE `gibbonApplicationForm` CHANGE `gibbonFamilyID` `gibbonFamilyID` INT( 7 ) UNSIGNED ZEROFILL NULL DEFAULT NULL;end
UPDATE `gibbonAction` SET `name`='Update Personal Data_family' WHERE `gibbonAction`.`gibbonActionID` =0000014;end
UPDATE `gibbonAction` SET `name`='Update Medical Form_family' WHERE `gibbonAction`.`gibbonActionID` =0000064;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Data Updater'), 'Update Personal Data_any', 1, '', 'Create personal data update request for any user', 'data_personal.php', 'data_personal.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Data Updater'), 'Update Medical Data_any', 1, '', 'Create medical data update request for any user', 'data_medical.php', 'data_medical.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Personal Data_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Medical Data_any'));end
DELETE FROM gibbonAction WHERE gibbonActionID=076 ;end
UPDATE `gibbonAction` SET `name`='Emergency SMS by Year Group',`description`='Output all parental first mobile numbers by year group: if there are no details, then show emergency details.',`URLList`='report_emergencySMS_byYearGroup.php',`entryURL`='report_emergencySMS_byYearGroup.php' WHERE `gibbonAction`.`gibbonActionID` =0000011;end
ALTER TABLE `gibbonPersonMedicalCondition` CHANGE `name` `name` VARCHAR( 100 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` ADD `priority` INT( 1 ) NOT NULL DEFAULT '0' ;end
INSERT INTO `gibbonSystemSetting` (`gibbonSystemSettingsID` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'organisationLogo', 'Logo', 'Relative path to site logo (250x107px)', 'themes/Default/img/logo.jpg');end
INSERT INTO `gibbonModule` (`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`) VALUES ('Message Wall', 'Group messaging system', 'messageWall_view.php', 'Core', 'Y', 'Social', '', 'Ross Parker', 'http://rossparker.org');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_classes_my', 1, '', 'Post messages to any of my classes', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_classes_any', 9, '', 'Post messages to any class', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_classes_parents', 5, '', 'Include parents in messages posted to classes', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_courses_my', 3, '', 'Post messages to any of my courses', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_courses_any', 11, '', 'Post messages to any courses', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_courses_parents', 7, '', 'Include parents in messages posted to courses', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_rollGroups_my', 2, '', 'Post messages to any of my roll groups', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_rollGroups_any', 10, '', 'Post messages to any roll group', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_rollGroups_parents', 6, '', 'Include parents in messages posted to parents', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_activities_my', 0, '', 'Post messages to any of my activities', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_activities_any', 8, '', 'Post messages to any activity', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_activities_parents', 4, '', 'Include parents in messages posted to activities', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_yearGroups_any', 8, '', 'Post messages to any year group', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_yearGroups_parents', 4, '', 'Include parents in messages posted to year group', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'New Message_role', 8, '', 'Post messages to a particular role', 'messageWall_post.php', 'messageWall_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'View Messages', 0, '', 'View all messages targetted to the user', 'messageWall_view.php,messageWall_view_full.php', 'messageWall_view.php', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'Manage Messages_my', 0, '', 'Edit all messages created by the user', 'messageWall_manage.php,messageWall_manage_edit.php,messageWall_manage_delete.php', 'messageWall_manage.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall'), 'Manage Messages_all', 1, '', 'Edit all messages', 'messageWall_manage.php,messageWall_manage_edit.php,messageWall_manage_delete.php', 'messageWall_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_classes_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_classes_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_classes_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_classes_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_courses_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_courses_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_courses_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_courses_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_rollGroups_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_rollGroups_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_rollGroups_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_rollGroups_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_activities_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_activities_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_activities_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_activities_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_yearGroups_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_yearGroups_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='New Message_role'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='View Messages'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='View Messages'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '3', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='View Messages'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='View Messages'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='View Messages'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='Manage Messages_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='Manage Messages_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Message Wall' AND gibbonAction.name='Manage Messages_all'));end
CREATE TABLE `gibbonMessageWallPost` (`gibbonMessageWallPostID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT, `subject` varchar(30) NOT NULL, `details` text NOT NULL, `date1` date NOT NULL, `date2` date DEFAULT NULL, `date3` date DEFAULT NULL, `attachment` varchar(255) NOT NULL, `gibbonPersonID` int(10) unsigned zerofill NOT NULL, `timestamp` timestamp NULL DEFAULT NULL, PRIMARY KEY (`gibbonMessageWallPostID`)) ENGINE=MyISAM ;end
CREATE TABLE `gibbonMessageWallPostTarget` (`gibbonMessageWallPostTargetID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonMessageWallPostID` int(12) unsigned zerofill NOT NULL, `type` enum('Class','Course','Roll Group','Year Group','Activity','Role') NOT NULL, `id` int(12) NOT NULL, `parents` enum('N','Y') NOT NULL DEFAULT 'N', PRIMARY KEY (`gibbonMessageWallPostTargetID`)) ENGINE=MyISAM ;end
ALTER TABLE `gibbonFamily` CHANGE `name` `name` VARCHAR( 100 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ;end
INSERT INTO `gibbonSystemSetting` (`gibbonSystemSettingsID` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'calendarFeed', 'Calendar Feed', 'XML feed for the school calendar (Google Calendar only)', '');end
ALTER TABLE `gibbonPerson` ADD `calendarFeedPersonal` TEXT NOT NULL, ADD `viewCalendarSchool` ENUM( 'Y', 'N' ) NOT NULL DEFAULT 'Y', ADD `viewCalendarPersonal` ENUM( 'Y', 'N' ) NOT NULL DEFAULT 'Y' ;end
--Behaviour
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Behaviour Settings', 0, 'People', 'Manage settings for the Behaviour module', 'behaviourSettings.php', 'behaviourSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Behaviour Settings'));end
CREATE TABLE `gibbonBehaviourSetting` ( `gibbonBehaviourSettingID` int(5) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(30) NOT NULL, `nameDisplay` varchar(40) NOT NULL, `description` varchar(255) NOT NULL, `value` text NOT NULL, PRIMARY KEY (`gibbonBehaviourSettingID`), UNIQUE KEY `name` (`name`), UNIQUE KEY `nameDisplay` (`nameDisplay`)) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=0 ;end
INSERT INTO `gibbonBehaviourSetting` VALUES(00001,'positiveDescriptors', 'Positive Descriptors', 'Allowalbe choices for positive behaviour', 'Attitude to learning, Collaboration, Community spirit, Creativity, Effort, Persistence, Problem solving, Quality of work, Values');end
INSERT INTO `gibbonBehaviourSetting` VALUES(00002,'negativeDescriptors', 'Negative Descriptors', 'Allowalbe choices for negative behaviour', 'Classwork - Late, Classwork - Incomplete, Classwork - Unacceptable, Disrespectful, Disruptive, Homework - Late, Homework - Incomplete, Homework - Unacceptable, Truancy');end
INSERT INTO `gibbonBehaviourSetting` VALUES(00003,'levels', 'Levels', 'Allowalbe choices for severity level (from lowest to highest)', 'Stage 1, Stage 2, Stage 3');end
INSERT INTO `gibbonModule` (`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`) VALUES ('Behaviour', 'Tracking Student Behaviour', 'behaviour_manage.php', 'Core', 'Y', 'People', '', 'Ross Parker', 'http://rossparker.org');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Behaviour'), 'Manage Behaviour Records_all', 1, '', 'Manage all behaviour records', 'behaviour_manage.php, behaviour_manage_add.php, behaviour_manage_edit.php, behaviour_manage_delete.php', 'behaviour_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Behaviour'), 'Manage Behaviour Records_my', 0, '', 'Manage behaviour records create by the user', 'behaviour_manage.php, behaviour_manage_add.php, behaviour_manage_edit.php, behaviour_manage_delete.php', 'behaviour_manage.php', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Behaviour'), 'View Behaviour Records', 0, '', 'View behaviour records by student', 'behaviour_view.php,behaviour_view_details.php', 'behaviour_view.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Behaviour' AND gibbonAction.name='Manage Behaviour Records_all'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Behaviour' AND gibbonAction.name='Manage Behaviour Records_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Behaviour' AND gibbonAction.name='View Behaviour Records'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Behaviour' AND gibbonAction.name='View Behaviour Records'));end
CREATE TABLE `gibbonBehaviour` ( `gibbonBehaviourID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonSchoolYearID` int(3) unsigned zerofill NOT NULL, `date` date NOT NULL, `gibbonPersonID` int(10) unsigned zerofill NOT NULL, `type` enum('Positive','Negative') NOT NULL, `descriptor` varchar(100) NOT NULL, `level` varchar(100) NOT NULL, `comment` text NOT NULL, `gibbonPlannerEntryID` int(14) unsigned zerofill DEFAULT NULL, `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL, `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`gibbonBehaviourID`)) ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Reports'), 'Emergency SMS by Transport', 0, 'Personal Data', 'Show SMS emergency details by transport route', 'report_emergencySMS_byTransport.php', 'report_emergencySMS_byTransport.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Reports' AND gibbonAction.name='Emergency SMS by Transport'));end
--Resources
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Resource Settings', 0, 'Teaching & Learning', 'Manage settings for the resources module', 'resourceSettings.php', 'resourceSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Resource Settings'));end
CREATE TABLE `gibbonResourceSetting` ( `gibbonResourceSettingID` int(5) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(30) NOT NULL, `nameDisplay` varchar(40) NOT NULL, `description` varchar(255) NOT NULL, `value` text NOT NULL, PRIMARY KEY (`gibbonResourceSettingID`), UNIQUE KEY `name` (`name`), UNIQUE KEY `nameDisplay` (`nameDisplay`)) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=0 ;end
INSERT INTO `gibbonResourceSetting` VALUES(NULL,'categories', 'Categories', 'Allowable choices for category', 'Article,Book,Document,Idea,Music,Object,Painting,Person,Photo,Place,Poetry,Prose,Rubric,Video,Website,Work Sample,Other');end
INSERT INTO `gibbonResourceSetting` VALUES(NULL,'purposes', 'Purposes', 'Allowable choices for purpose', 'Assessment Aid,Inspiration,Provocation,Other');end
INSERT INTO `gibbonModule` (`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`) VALUES ('Resources', 'Collect and manage resources for teaching and learning', 'resources_view.php', 'Core', 'Y', 'T&L', '', 'Ross Parker', 'http://rossparker.org');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Resources'), 'Manage Resources_all', 1, '', 'Manage all resources', 'resources_manage.php, resources_manage_add.php, resources_manage_edit.php, resources_manage_delete.php', 'resources_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Resources'), 'Manage Resources_my', 0, '', 'Manage resources created by the user', 'resources_manage.php, resources_manage_add.php, resources_manage_edit.php, resources_manage_delete.php', 'resources_manage.php', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Resources'), 'View Resources', 0, '', 'View resources', 'resources_view.php,resources_view_details.php,resources_view_full.php', 'resources_view.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Resources' AND gibbonAction.name='Manage Resources_all'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Resources' AND gibbonAction.name='Manage Resources_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Resources' AND gibbonAction.name='View Resources'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Resources' AND gibbonAction.name='View Resources'));end
CREATE TABLE `gibbonResource` ( `gibbonResourceID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(30) NOT NULL, `description` text NOT NULL, `gibbonYearGroupIDList` varchar(255) NOT NULL, `type` enum('File','HTML','Link') NOT NULL, `category` varchar(255) NOT NULL, `purpose` varchar(255) NOT NULL, `tags` text NOT NULL, `content` text NOT NULL, `gibbonPersonID` int(10) unsigned zerofill NOT NULL, `timestamp` timestamp NULL DEFAULT NULL, PRIMARY KEY (`gibbonResourceID`)) ;end
CREATE TABLE `gibbonResourceTag` (`gibbonResourceTagID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`tag` VARCHAR( 100 ) NOT NULL ,`count` INT( 6 ) NOT NULL ,UNIQUE (`tag`)) ENGINE=MYISAM ;end
DROP TABLE `gibbonPlannerEntryResource` ;end
ALTER TABLE `gibbonSystemSetting` ADD `scope` VARCHAR( 50 ) NOT NULL AFTER `gibbonSystemSettingsID`;end
RENAME TABLE `gibbonSystemSetting` TO `gibbonSetting` ;end
UPDATE gibbonSetting SET scope='System' ;end
INSERT INTO gibbonSetting SELECT NULL, 'Activities', name, nameDisplay, description, value FROM gibbonActivitiesSetting;end
INSERT INTO gibbonSetting SELECT NULL, 'Application Form', name, nameDisplay, description, value FROM gibbonApplicationFormSetting;end
INSERT INTO gibbonSetting SELECT NULL, 'Behaviour', name, nameDisplay, description, value FROM gibbonBehaviourSetting;end
INSERT INTO gibbonSetting SELECT NULL, 'Resources', name, nameDisplay, description, value FROM gibbonResourceSetting;end
DROP TABLE `gibbonActivitiesSetting` ;end
DROP TABLE `gibbonApplicationFormSetting` ;end
DROP TABLE `gibbonBehaviourSetting` ;end
DROP TABLE `gibbonResourceSetting` ;end
ALTER TABLE gibbonMarkbookColumn charset=utf8;end
ALTER TABLE gibbonMarkbookEntry charset=utf8;end
UPDATE `gibbonAction` SET `name`='Manage Medical Forms' WHERE `gibbonAction`.`gibbonActionID` =0000021;end
UPDATE gibbonAction SET name='Manage Activity Settings' WHERE name='Activity Settings';end
UPDATE `gibbonSetting` SET `value`='Article,Book,Document,Idea,Music,Object,Painting,Person,Photo,Place,Poetry,Prose,Rubric,Text,Video,Website,Work Sample,Other' WHERE `gibbonSetting`.`gibbonSystemSettingsID` =00037;end
UPDATE `gibbonSetting` SET `value`='Assessment Aid,Concept,Inspiration,Learner Profile,Provocation,Skill,Teaching and Learning Strategy,Other' WHERE `gibbonSetting`.`gibbonSystemSettingsID` =00038;end
INSERT INTO `gibbonModule` (`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`) VALUES ('Mass Mailer', 'Group email distribution system', 'massMailer_manage.php', 'Core', 'Y', 'Social', '', 'Ross Parker', 'http://rossparker.org');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_classes_my', 1, '', 'Bulk email to any of my classes', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_classes_any', 9, '', 'Bulk email to any class', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_classes_parents', 5, '', 'Include parents in messages posted to classes', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_courses_my', 3, '', 'Bulk email to any of my courses', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_courses_any', 11, '', 'Bulk email to any courses', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_courses_parents', 7, '', 'Include parents in messages posted to courses', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_rollGroups_my', 2, '', 'Bulk email to any of my roll groups', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_rollGroups_any', 10, '', 'Bulk email to any roll group', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_rollGroups_parents', 6, '', 'Include parents in messages posted to parents', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_activities_my', 0, '', 'Bulk email to any of my activities', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_activities_any', 8, '', 'Bulk email to any activity', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_activities_parents', 4, '', 'Include parents in messages posted to activities', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_yearGroups_any', 8, '', 'Bulk email to any year group', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_yearGroups_parents', 4, '', 'Include parents in messages posted to year group', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_role', 8, '', 'Bulk email to a particular role', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'Manage Messages_my', 0, '', 'Edit all messages created by the user', 'massMailer_manage.php,massMailer_manage_delete.php', 'massMailer_manage.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'Manage Messages_all', 1, '', 'Edit all messages', 'massMailer_manage.php,massMailer_manage_delete.php', 'massMailer_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_classes_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_classes_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_classes_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_classes_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_courses_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_courses_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_courses_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_courses_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_rollGroups_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_rollGroups_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_rollGroups_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_rollGroups_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_activities_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_activities_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_activities_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_activities_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_yearGroups_any'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_yearGroups_parents'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_role'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='Manage Messages_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='Manage Messages_my'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='Manage Messages_all'));end
CREATE TABLE `gibbonMassMailerMail` (`gibbonMassMailerMailID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT, `subject` varchar(30) NOT NULL, `body` text NOT NULL, `gibbonPersonID` int(10) unsigned zerofill NOT NULL, `timestamp` timestamp NULL DEFAULT NULL, PRIMARY KEY (`gibbonMassMailerMailID`)) ENGINE=MyISAM ;end
CREATE TABLE `gibbonMassMailerMailTarget` (`gibbonMassMailerMailTargetID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonMassMailerMailID` int(12) unsigned zerofill NOT NULL, `type` enum('Class','Course','Roll Group','Year Group','Activity','Role') NOT NULL, `id` int(12) NOT NULL, `parents` enum('N','Y') NOT NULL DEFAULT 'N', `students` enum('N','Y') NOT NULL DEFAULT 'N', `staff` enum('N','Y') NOT NULL DEFAULT 'N', PRIMARY KEY (`gibbonMassMailerMailTargetID`)) ENGINE=MyISAM ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'System', 'version', 'Version', 'The version of the Gibbon database', '2.0.00');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='System Admin'), 'Update', 0, '', 'Update Gibbon to a new version', 'update.php', 'update.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='System Admin' AND gibbonAction.name='Update'));end
CREATE TABLE `gibbonHook` (`gibbonHookID` int(4) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(50) NOT NULL, `type` enum('Student Profile') DEFAULT NULL, `sourceModuleName` varchar(50) NOT NULL, `sourceModuleAction` varchar(50) NOT NULL, `sourceModuleInclude` varchar(255) NOT NULL COMMENT 'The path to the file which contains the hook code, relative to the source module directory (no leading slash)', PRIMARY KEY (`gibbonHookID`)) ENGINE=MyISAM ;end
ALTER TABLE `gibbonHook` ADD UNIQUE (`name` ,`type` ,`sourceModuleName`);end
UPDATE `gibbonAction` SET `URLList`='module_manage.php,module_manage_install.php,module_manage_edit.php,module_manage_uninstall.php,module_manage_update.php' WHERE `gibbonAction`.`gibbonActionID` =0000010;end
UPDATE `gibbonSetting` SET `value`='Assessment Aid,Concept,Inspiration,Learner Profile,Mass Mailer Attachment, Provocation,Skill,Teaching and Learning Strategy,Other' WHERE `gibbonSetting`.`gibbonSystemSettingsID` =00038;end
UPDATE `gibbonSetting` SET `name`='purposesGeneral',`nameDisplay`='Purposes (General)', `description`='Allowable choices for purpose when creating a resource' WHERE `gibbonSetting`.`gibbonSystemSettingsID` =00038;end
INSERT INTO `gibbonSetting` VALUES(NULL, 'Resources', 'purposesRestricted', 'Purposes (Restricted)', 'Additional allowable choices for purpose when creating a resource, for those with \"Manage All Resources\" rights', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'System', 'organisationEmail', 'Organisation Email', 'General email address for the school', '');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_fromSchool', 0, '', 'Bulk email from the school\'s email address', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_fromSchool'));end
UPDATE gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) SET gibbonAction.URLList='applicationForm_manage.php, applicationForm_manage_edit.php, applicationForm_manage_delete.php, applicationForm_manage_accept.php, applicationForm_manage_reject.php' WHERE gibbonAction.name='Manage Applications' AND gibbonModule.name='User Admin';end
CREATE TABLE `gibbonPersonPayment` ( `gibbonPersonPaymentID` int(10) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonPersonID` int(10) unsigned zerofill NOT NULL, `invoiceTo` enum('Family','Company') NOT NULL, `companyName` varchar(100) NOT NULL, `companyContact` varchar(100) NOT NULL, `companyAddress` varchar(255) NOT NULL, `companyEmail` varchar(255) NOT NULL, `companyPhone` varchar(20) NOT NULL, PRIMARY KEY (`gibbonPersonPaymentID`)) ENGINE=MyISAM DEFAULT CHARSET=latin1;end
ALTER TABLE `gibbonApplicationForm` ADD `parent1gibbonPersonID` INT( 10 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `agreement` ;end" ;

//v3.0.00
$count++ ;
$sql[$count][0]="3.0.00" ;
$sql[$count][1]="
UPDATE `gibbonAction` SET `URLList`='planner.php, planner_view_full.php, planner_add.php, planner_edit.php, planner_delete.php, planner_deadlines.php, planner_duplicate.php, planner_view_full_post.php, planner_view_full_submit_edit.php' WHERE `gibbonAction`.`gibbonActionID` =0000036;end
UPDATE `gibbonAction` SET `URLList`='planner.php, planner_view_full.php, planner_add.php, planner_edit.php, planner_delete.php, planner_deadlines.php, planner_duplicate.php, planner_view_full_post.php, planner_view_full_submit_edit.php' WHERE `gibbonAction`.`gibbonActionID` =0000038;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Timetable'), 'View Timetable by Space', 0, '', 'View space usage according to the timetable', 'tt_space.php,tt_space_view.php', 'tt_space.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Timetable' AND gibbonAction.name='View Timetable by Space'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Timetable' AND gibbonAction.name='View Timetable by Space'));end
UPDATE gibbonAction AS action SET name='View Timetable by Person' WHERE name='View Timetable' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Timetable') ;end
UPDATE gibbonAction AS action SET name='Course Enrolment by Class' WHERE name='Course Enrolment' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Timetable Admin') ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Timetable Admin'), 'Course Enrolment by Person', 0, 'Courses & Classes', 'Manage course enrolment for a single user', 'courseEnrolment_manage_byPerson.php, courseEnrolment_manage_byPerson_class_edit.php, courseEnrolment_manage_byPerson_class_edit_edit.php, courseEnrolment_manage_byPerson_class_edit_delete.php', 'courseEnrolment_manage_byPerson.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Timetable Admin' AND gibbonAction.name='Course Enrolment by Person'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_applicants', 12, '', 'Bulk email to applicants by intended school year of entry', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_applicants'));end
ALTER TABLE `gibbonMassMailerMailTarget` CHANGE `type` `type` ENUM( 'Class', 'Course', 'Roll Group', 'Year Group', 'Activity', 'Role', 'Applicants' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_individuals', 13, '', 'Bulk email to indvidual users', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_houses_my', 14, '', 'Bulk email to members of my house', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer'), 'New Message_houses_all', 15, '', 'Bulk email to members of all houses', 'massMailer_post.php', 'massMailer_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_individuals'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Mass Mailer' AND gibbonAction.name='New Message_houses_all'));end
ALTER TABLE `gibbonMassMailerMailTarget` CHANGE `type` `type` ENUM( 'Class', 'Course', 'Roll Group', 'Year Group', 'Activity', 'Role', 'Applicants', 'Individuals', 'Houses' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonHook` DROP `sourceModuleName` ,DROP `sourceModuleAction` , DROP `sourceModuleInclude` ;end
ALTER TABLE `gibbonHook` ADD `options` TEXT NOT NULL ;end
UPDATE gibbonHook SET options='a:3:{s:16:\"sourceModuleName\";s:10:\"IB Diploma\";s:18:\"sourceModuleAction\";s:27:\"View CAS in Student Profile\";s:19:\"sourceModuleInclude\";s:27:\"hook_studentProfile_cas.php\";}' WHERE name='IB Diploma CAS' and type='Student Profile' ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner'), 'Manage Units_all', 0, '', 'Manage all units within the school', 'units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_add.php, units_edit_copyback.php', 'units.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner'), 'Manage Units_learningAreas', 0, '', 'Manage all units within the learning areas I have appropriate permission', 'units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_add.php, units_edit_copyback.php', 'units.php', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Planner' AND gibbonAction.name='Manage Units_all'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Planner' AND gibbonAction.name='Manage Units_learningAreas'));end
UPDATE `gibbonAction` SET `name`='Lesson Planner_viewMyChildrensClasses' WHERE `gibbonAction`.`gibbonActionID` =0000040;end
UPDATE `gibbonAction` SET `name`='Lesson Planner_viewAllEditMyClasses' WHERE `gibbonAction`.`gibbonActionID` =0000036;end
UPDATE `gibbonAction` SET `name`='Lesson Planner_viewMyClasses' WHERE `gibbonAction`.`gibbonActionID` =0000035;end
UPDATE `gibbonAction` SET `name`='Lesson Planner_viewEditAllClasses' WHERE `gibbonAction`.`gibbonActionID` =0000038;end
DELETE FROM gibbonAction WHERE gibbonActionID=0000037;end
DELETE FROM gibbonPermission WHERE gibbonActionID=0000037;end
ALTER TABLE `gibbonUnit` ADD `type` VARCHAR( 255 ) NOT NULL AFTER `name` ;end
UPDATE gibbonUnit SET TYPE='Basic';end
CREATE TABLE `gibbonUnitBlock` ( `gibbonUnitBlockID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonUnitID` int(10) unsigned zerofill NOT NULL, `title` varchar(100) NOT NULL, `type` varchar(50) NOT NULL, `length` varchar(3) NOT NULL, `contents` text NOT NULL, `sequenceNumber` int(4) NOT NULL, PRIMARY KEY (`gibbonUnitBlockID`)) ENGINE=MyISAM ;end
CREATE TABLE `gibbonUnitClassBlock` (`gibbonUnitClassBlockID` INT( 14 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonUnitClassID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonPlannerEntryID` INT( 14 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonUnitBlockID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL ,`title` VARCHAR( 100 ) NOT NULL ,`type` VARCHAR( 50 ) NOT NULL ,`length` VARCHAR( 3 ) NOT NULL ,`contents` TEXT NOT NULL ,`sequenceNumber` INT( 4 ) NOT NULL ,`complete` ENUM( 'Y', 'N' ) NOT NULL DEFAULT 'N') ENGINE=MYISAM ;end
ALTER TABLE `gibbonPlannerEntry` CHANGE `name` `name` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000077;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005',`category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000011;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005',`category`='Reports' WHERE gibbonModuleID=10 AND `gibbonAction`.`name` ='Emergency SMS by Transport';end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000073;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000075;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000072;end
UPDATE `gibbonAction` SET `category`='Profiles' WHERE `gibbonAction`.`gibbonActionID` =0000042;end
UPDATE `gibbonAction` SET `category`='Profiles' WHERE `gibbonAction`.`gibbonActionID` =0000024;end
UPDATE `gibbonAction` SET `category`='Profiles' WHERE `gibbonAction`.`gibbonActionID` =0000023;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0005', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000043;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0009', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000071;end
UPDATE `gibbonAction` SET `gibbonModuleID`='0009', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000061;end
UPDATE `gibbonAction` SET category='Planning' WHERE gibbonModuleID=9 AND `gibbonAction`.`name` ='Manage Units_all';end
UPDATE `gibbonAction` SET category='Planning' WHERE gibbonModuleID=9 AND `gibbonAction`.`name` ='Manage Units_learningAreas';end
UPDATE `gibbonAction` SET category='Planning' WHERE gibbonModuleID=9 AND `gibbonAction`.`name` ='Lesson Planner_viewMyChildrensClasses';end
UPDATE `gibbonAction` SET category='Planning' WHERE gibbonModuleID=9 AND `gibbonAction`.`name` ='Lesson Planner_viewAllEditMyClasses';end
UPDATE `gibbonAction` SET category='Planning' WHERE gibbonModuleID=9 AND `gibbonAction`.`name` ='Lesson Planner_viewMyClasses';end
UPDATE `gibbonAction` SET category='Planning' WHERE gibbonModuleID=9 AND `gibbonAction`.`name` ='Lesson Planner_viewEditAllClasses';end
UPDATE `gibbonAction` SET `gibbonModuleID`='0013', `category`='Reports' WHERE `gibbonAction`.`gibbonActionID` =0000066;end
DELETE FROM gibbonModule WHERE gibbonModuleID=10;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Activities', 'dateType', 'Date Type', 'Should activities be organised around dates (flexible) or terms (easy)?', 'Term');end
ALTER TABLE `gibbonActivity` CHANGE `listingStart` `listingStart` DATE NULL DEFAULT NULL ,CHANGE `listingEnd` `listingEnd` DATE NULL DEFAULT NULL ,CHANGE `programStart` `programStart` DATE NULL DEFAULT NULL ,CHANGE `programEnd` `programEnd` DATE NULL DEFAULT NULL;end
ALTER TABLE `gibbonActivity` ADD `gibbonSchoolYearTermIDList` TEXT NOT NULL AFTER `type` ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `status` `status` ENUM( 'Pending', 'Accepted', 'Rejected', 'Withdrawn' ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT 'Pending';end
ALTER TABLE `gibbonUnit` ADD `introduction` TEXT NOT NULL AFTER `attachment` ,ADD `requirements` TEXT NOT NULL AFTER `introduction` ,ADD `outcomesLinks` TEXT NOT NULL AFTER `requirements` ,ADD `assessment` TEXT NOT NULL AFTER `outcomesLinks` ,ADD `differentiation` TEXT NOT NULL AFTER `assessment` ,ADD `notes` TEXT NOT NULL AFTER `differentiation`;end
ALTER TABLE `gibbonHook` CHANGE `type` `type` ENUM( 'Student Profile', 'Unit' ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonPlannerEntry` ADD `gibbonHookID` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `gibbonCourseClassID` ;end
ALTER TABLE `gibbonMarkbookColumn` ADD `gibbonHookID` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `gibbonCourseClassID` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`) VALUES (NULL , 'System', 'installType', 'Install Type', 'The purpose of this installation of Gibbon', 'Production'), (NULL , 'System', 'statsCollection', 'Statistics Collection', 'To track Gibbon uptake, the system tracks basic data (current URL, install type, organisation name) on each install. Do you want to help?', 'Y');end
UPDATE `gibbonExternalAssessmentField` SET `category`='2_KS3 Target Grades' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID`=000004;end
UPDATE `gibbonExternalAssessmentField` SET `category`='2_KS3 Target Grades' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID`=000005;end
UPDATE `gibbonExternalAssessmentField` SET `category`='2_KS3 Target Grades' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID`=000006;end
UPDATE `gibbonExternalAssessmentField` SET `category`='3_GCSE Target Grades' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID`=000007;end
UPDATE `gibbonExternalAssessmentField` SET `category`='3_GCSE Target Grades' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID`=000008;end
UPDATE `gibbonExternalAssessmentField` SET `category`='3_GCSE Target Grades' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID`=000009;end
UPDATE `gibbonScale` SET `usage`='Has task has been completed?' WHERE `gibbonScale`.`gibbonScaleID` =00009;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Activities', 'maxPerTerm', 'Maximum Activities per Term', 'The most a student can sign up for in one term. Set to 0 for unlimited.', '0');end
" ;

//v4.0.00
$count++ ;
$sql[$count][0]="4.0.00" ;
$sql[$count][1]="
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Activities'), 'Activity Spread by Roll Group', 0, 'Reports', 'View spread of enrolment over terms and days by roll group', 'report_activitySpread_rollGroup.php', 'report_activitySpread_rollGroup.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Activities' AND gibbonAction.name='Activity Spread by Roll Group'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Activities' AND gibbonAction.name='Activity Spread by Roll Group'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Planner Settings', 0, 'Teaching & Learning', 'Edit settings for the planner', 'plannerSettings.php', 'plannerSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Planner Settings'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Planner', 'lessonDetailsTemplate', 'Lesson Details Template', 'Template to be inserted into Lesson Details field', ''), (NULL , 'Planner', 'teachersNotesTemplate', 'Teacher\'s Notes Template', 'Template to be inserted into Teacher\'s Notes field', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Planner', 'smartBlockTemplate', 'Smart Block Template', 'Template to be inserted into new block in Smart Unit', '');end
ALTER TABLE `gibbonPlannerEntry` ADD `twitterSearch` VARCHAR( 255 ) NOT NULL AFTER `viewableParents`;end
UPDATE `gibbonExternalAssessmentField` SET `order`='3' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000004;end
UPDATE `gibbonExternalAssessmentField` SET `order`='7' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000005;end
UPDATE `gibbonExternalAssessmentField` SET `order`='11' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000006;end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Art & Design', '2_KS3 Target Grades', '1', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Design & Tech', '2_KS3 Target Grades', '2', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Geography', '2_KS3 Target Grades', '4', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'History', '2_KS3 Target Grades', '5', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'ICT', '2_KS3 Target Grades', '6', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'MFL', '2_KS3 Target Grades', '8', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Music', '2_KS3 Target Grades', '9', '11', '001,002,003');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'PE', '2_KS3 Target Grades', '10', '11', '001,002,003');end
UPDATE `gibbonExternalAssessmentField` SET `order`='10' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000007;end
UPDATE `gibbonExternalAssessmentField` SET `name`='Mathematics',`order`='18' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000008;end
UPDATE `gibbonExternalAssessmentField` SET `name`='Science - Double Award',`order`='25' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000009;end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Art & Design', '3_GCSE Target Grades', '1', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Business Studies', '3_GCSE Target Grades', '2', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'D&T - Electronics', '3_GCSE Target Grades', '3', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'D&T - Food', '3_GCSE Target Grades', '4', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'D&T - Graphics', '3_GCSE Target Grades', '5', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'D&T - Resistant Materials', '3_GCSE Target Grades', '6', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'D&T - Systems Control', '3_GCSE Target Grades', '7', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'D&T - Textiles', '3_GCSE Target Grades', '8', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Drama', '3_GCSE Target Grades', '9', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'English Literature', '3_GCSE Target Grades', '11', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'French', '3_GCSE Target Grades', '12', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Geography', '3_GCSE Target Grades', '13', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'German', '3_GCSE Target Grades', '14', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'History', '3_GCSE Target Grades', '15', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Home Economics', '3_GCSE Target Grades', '16', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Information Technology', '3_GCSE Target Grades', '17', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Media Studies', '3_GCSE Target Grades', '19', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Music', '3_GCSE Target Grades', '20', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Physical Education', '3_GCSE Target Grades', '21', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Religious Education', '3_GCSE Target Grades', '22', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Science - Biology', '3_GCSE Target Grades', '23', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Science - Chemistry', '3_GCSE Target Grades', '24', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Science - Physics', '3_GCSE Target Grades', '26', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Science - Single Award', '3_GCSE Target Grades', '27', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Sociology', '3_GCSE Target Grades', '28', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Spanish', '3_GCSE Target Grades', '29', '12', '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentFieldID` ,`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`)VALUES (NULL , '1', 'Statistics', '3_GCSE Target Grades', '30', '12', '004,005');end
INSERT INTO `gibbonExternalAssessment` (`gibbonExternalAssessmentID` ,`name` ,`nameShort` ,`description` ,`website` ,`active`)VALUES (NULL , 'GCSE/iGCSE', 'GCSE', 'UK-based General Certificate of Secondary Education', '', 'Y'), (NULL , 'IB Diploma', 'IB Diploma', 'International Baccalaureate Diploma', 'http://www.ibo.org/', 'Y');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Art & Design', '1_Final Grade', 1, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Chinese (Mandarin)', '1_Final Grade', 2, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Drama', '1_Final Grade', 3, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Dutch', '1_Final Grade', 4, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Economics', '1_Final Grade', 5, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'English Language', '1_Final Grade', 6, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'English Literature', '1_Final Grade', 7, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Environmental Management', '1_Final Grade', 8, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Mathematics', '1_Final Grade', 9, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Media Studies', '1_Final Grade', 10, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Physical Education', '1_Final Grade', 11, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Science - Double Award', '1_Final Grade', 12, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Spanish', '1_Final Grade', 13, 00003 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Art & Design', '0_Target Grade', 1, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Chinese (Mandarin)', '0_Target Grade', 2, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Drama', '0_Target Grade', 3, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Dutch', '0_Target Grade', 4, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Economics', '0_Target Grade', 5, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'English Language', '0_Target Grade', 6, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'English Literature', '0_Target Grade', 7, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Environmental Management', '0_Target Grade', 8, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Mathematics', '0_Target Grade', 9, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Media Studies', '0_Target Grade', 10, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Physical Education', '0_Target Grade', 11, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Science - Double Award', '0_Target Grade', 12, 00012 , '004,005');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='GCSE/iGCSE'), 'Spanish', '0_Target Grade', 13, 00012 , '004,005');end
UPDATE `gibbonExternalAssessmentField` SET `name`='English Language' WHERE `gibbonExternalAssessmentField`.`gibbonExternalAssessmentFieldID` =000007;end
INSERT INTO `gibbonScale` (`gibbonScaleID` ,`name` ,`nameShort` ,`usage` ,`lowestAcceptable` ,`active` ,`numeric`)VALUES (NULL , 'IB Diploma (Subject)', 'IBDS', '7 (highest) to 1 (lowest)', '4', 'Y', 'Y'), (NULL , 'IB Diploma (Total)', 'IBDT', '45 (highest) to 0', '22', 'Y', 'Y');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '7', '7', '1');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '6', '6', '2');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '5', '5', '3');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '4', '4', '4');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '3', '3', '5');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '2', '2', '6');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)'), '1', '1', '7');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '45', '45', '1');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '44', '44', '2');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '43', '43', '3');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '42', '42', '4');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '41', '41', '5');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '40', '40', '6');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '39', '39', '7');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '38', '38', '8');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '37', '37', '9');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '36', '36', '10');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '35', '35', '11');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '34', '34', '12');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '33', '33', '13');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '32', '32', '14');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '31', '31', '15');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '30', '30', '16');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '29', '29', '17');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '28', '28', '18');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '27', '27', '19');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '26', '26', '20');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '25', '25', '21');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '24', '24', '22');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '23', '23', '23');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '22', '22', '24');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '21', '21', '25');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '20', '20', '26');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '19', '19', '27');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '18', '18', '28');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '17', '17', '29');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '16', '16', '30');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '15', '15', '31');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '14', '14', '32');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '13', '13', '33');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '12', '12', '34');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '11', '11', '35');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '10', '10', '36');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '9', '9', '37');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '8', '8', '38');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '7', '7', '39');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '6', '6', '40');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '5', '5', '41');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '4', '4', '42');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '3', '3', '43');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '2', '2', '44');end
INSERT INTO `gibbonScaleGrade` (`gibbonScaleID` ,`value` ,`descriptor` ,`sequenceNumber`) VALUES ((SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)'), '1', '1', '45');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'IB Diploma Total', '0_Target Grade', 0, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'IB Diploma Total', '1_Final Grade', 0, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Total)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese A: Language and Literature HL', '0_Target Grade', 1, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese A: Language and Literature SL', '0_Target Grade', 2, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Language and Literature HL', '0_Target Grade', 3, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Language and Literature SL', '0_Target Grade', 4, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Literature HL', '0_Target Grade', 5, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Literature SL', '0_Target Grade', 6, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Self-Taught Language SL', '0_Target Grade', 7, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese B HL', '0_Target Grade', 8, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese B SL', '0_Target Grade', 9, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Spanish B HL', '0_Target Grade', 10, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Spanish B SL', '0_Target Grade', 11, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Italian ab initio SL', '0_Target Grade', 12, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Economics HL', '0_Target Grade', 13, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Economics SL', '0_Target Grade', 14, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Psychology HL', '0_Target Grade', 15, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Psychology SL', '0_Target Grade', 16, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Environmental Systems and Society SL', '0_Target Grade', 17, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chemistry HL', '0_Target Grade', 18, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chemistry SL', '0_Target Grade', 19, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Physics HL', '0_Target Grade', 20, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Physics SL', '0_Target Grade', 21, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Mathematics HL', '0_Target Grade', 22, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Mathematics SL', '0_Target Grade', 23, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Maths Studies SL', '0_Target Grade', 24, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Theatre Arts HL', '0_Target Grade', 25, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Theatre Arts SL', '0_Target Grade', 26, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Visual Arts HL', '0_Target Grade', 27, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Visual Arts SL', '0_Target Grade', 28, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese A: Language and Literature HL', '1_Final Grade', 1, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese A: Language and Literature SL', '1_Final Grade', 2, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Language and Literature HL', '1_Final Grade', 3, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Language and Literature SL', '1_Final Grade', 4, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Literature HL', '1_Final Grade', 5, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'English A: Literature SL', '1_Final Grade', 6, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Self-Taught Language SL', '1_Final Grade', 7, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese B HL', '1_Final Grade', 8, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chinese B SL', '1_Final Grade', 9, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Spanish B HL', '1_Final Grade', 10, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Spanish B SL', '1_Final Grade', 11, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Italian ab initio SL', '1_Final Grade', 12, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Economics HL', '1_Final Grade', 13, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Economics SL', '1_Final Grade', 14, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Psychology HL', '1_Final Grade', 15, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Psychology SL', '1_Final Grade', 16, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Environmental Systems and Society SL', '1_Final Grade', 17, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chemistry HL', '1_Final Grade', 18, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Chemistry SL', '1_Final Grade', 19, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Physics HL', '1_Final Grade', 20, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Physics SL', '1_Final Grade', 21, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Mathematics HL', '1_Final Grade', 22, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Mathematics SL', '1_Final Grade', 23, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Maths Studies SL', '1_Final Grade', 24, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Theatre Arts HL', '1_Final Grade', 25, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Theatre Arts SL', '1_Final Grade', 26, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Visual Arts HL', '1_Final Grade', 27, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonExternalAssessmentField` (`gibbonExternalAssessmentID` ,`name` ,`category` ,`order` ,`gibbonScaleID` ,`gibbonYearGroupIDList`) VALUES ((SELECT gibbonExternalAssessmentID FROM gibbonExternalAssessment WHERE name='IB Diploma'), 'Visual Arts SL', '1_Final Grade', 28, (SELECT gibbonScaleID FROM gibbonScale WHERE name='IB Diploma (Subject)') , '006,007');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner'), 'Manage Outcomes_viewAllEditLearningArea', 1, 'Planning', 'View all outcomes in the school, edit any from Learning Areas where you are Coordinator or Teacher (Curriculum)', 'outcomes.php, outcomes_add.php, outcomes_edit.php, outcomes_delete.php', 'outcomes.php', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Planner' AND gibbonAction.name='Manage Outcomes_viewAllEditLearningArea'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner'), 'Manage Outcomes_viewEditAll', 2, 'Planning', 'Manage all outcomes in the school', 'outcomes.php, outcomes_add.php, outcomes_edit.php, outcomes_delete.php', 'outcomes.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Planner' AND gibbonAction.name='Manage Outcomes_viewEditAll'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner'), 'Manage Outcomes_viewAll', 0, 'Planning', 'View all outcomes in the school', 'outcomes.php', 'outcomes.php', 'N', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
ALTER TABLE `gibbonUnit` DROP `introduction` ,DROP `requirements` ,DROP `outcomesLinks` ,DROP `assessment` ,DROP `differentiation` ;end
ALTER TABLE `gibbonUnit` DROP `notes` ;end
ALTER TABLE `gibbonUnit` ADD `details` TEXT NOT NULL AFTER `attachment` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Planner', 'unitOutlineTemplate', 'Unit Outline Template', 'Template to be inserted into Unit Outline section of planner', '');end
CREATE TABLE `gibbonPlannerEntryStudentTracker` (`gibbonPlannerEntryStudentTrackerID` INT( 16 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonPlannerEntryID` INT( 14 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonPersonID` INT( 10 ) UNSIGNED ZEROFILL NOT NULL ,`homeworkComplete` ENUM( 'Y', 'N' ) NOT NULL) ENGINE=MYISAM ;end
CREATE TABLE `gibbonOutcome` ( `gibbonOutcomeID` int(8) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(50) NOT NULL, `nameShort` varchar(12) NOT NULL, `category` varchar(50) NOT NULL, `description` text NOT NULL, `active` enum('Y','N') NOT NULL, `scope` enum('School','Learning Area') NOT NULL, `gibbonLearningAreaID` int(4) unsigned zerofill DEFAULT NULL, `gibbonYearGroupIDList` varchar(255) NOT NULL, `gibbonPersonIDCreator` int(8) unsigned zerofill NOT NULL, PRIMARY KEY (`gibbonOutcomeID`)) ENGINE=MyISAM ;end
ALTER TABLE `gibbonCourse` CHANGE `nameShort` `nameShort` VARCHAR( 6 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT '';end
ALTER TABLE `gibbonMarkbookEntry` CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;end
ALTER TABLE `gibbonResource` CHANGE `name` `name` VARCHAR( 60 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL;end
INSERT INTO `gibbonModule` (`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`)VALUES ('Rubrics', 'Allows users to create rubrics for assessment', 'rubrics.php', 'Core', 'Y', 'ARR', '', 'Ross Parker', 'http://rossparker.org') ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Rubrics'), 'Manage Rubrics_viewAllEditLearningArea', 0, '', 'View all rubrics in the school, edit any from Learning Areas where you are Coordinator or Teacher (Curriculum)', 'rubrics.php, rubrics_add.php, rubrics_edit.php, rubrics_delete.php', 'rubrics.php', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Rubrics' AND gibbonAction.name='Manage Rubrics_viewAllEditLearningArea'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Rubrics'), 'Manage Rubrics_viewEditAll', 1, '', 'Manage all rubrics in the school', 'rubrics.php, rubrics_add.php, rubrics_edit.php, rubrics_delete.php', 'rubrics.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Rubrics' AND gibbonAction.name='Manage Rubrics_viewEditAll'));end
CREATE TABLE `gibbonRubric` ( `gibbonRubricID` int(8) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(50) NOT NULL, `category` varchar(50) NOT NULL, `description` text NOT NULL, `active` enum('Y','N') NOT NULL, `scope` enum('School','Learning Area') NOT NULL, `gibbonLearningAreaID` int(4) unsigned zerofill DEFAULT NULL, `gibbonYearGroupIDList` varchar(255) NOT NULL, `gibbonScaleID` int(5) unsigned zerofill DEFAULT NULL, `gibbonPersonIDCreator` int(8) unsigned zerofill NOT NULL, PRIMARY KEY (`gibbonRubricID`)) ENGINE=MyISAM ;end
CREATE TABLE `gibbonRubricColumn` (`gibbonRubricColumnID` INT( 9 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonRubricID` INT( 8 ) UNSIGNED ZEROFILL NOT NULL ,`title` VARCHAR( 20 ) NOT NULL,`sequenceNumber` int(2) NOT NULL,`gibbonScaleGradeID` int(7) unsigned zerofill DEFAULT NULL) ENGINE=MYISAM ;end
CREATE TABLE `gibbonRubricRow` (`gibbonRubricRowID` INT( 9 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonRubricID` INT( 8 ) UNSIGNED ZEROFILL NOT NULL ,`title` VARCHAR( 20 ) NOT NULL, `sequenceNumber` int(2) NOT NULL, `gibbonOutcomeID` int(8) unsigned zerofill DEFAULT NULL) ENGINE=MYISAM ;end
CREATE TABLE `gibbonRubricCell` (`gibbonRubricCellID` INT( 11 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonRubricID` INT( 8 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonRubricColumnID` INT( 9 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonRubricRowID` INT( 9 ) UNSIGNED ZEROFILL NOT NULL ,`contents` TEXT NOT NULL) ENGINE=MYISAM ;end
ALTER TABLE `gibbonPerson` ADD `passwordStrong` VARCHAR( 255 ) NOT NULL AFTER `password` ;end
ALTER TABLE `gibbonPerson` ADD `passwordStrongSalt` VARCHAR( 255 ) NOT NULL AFTER `passwordStrong` ;end
ALTER TABLE `gibbonHook` ADD `gibbonModuleID` INT( 4 ) UNSIGNED ZEROFILL NOT NULL COMMENT 'The module which installed this hook.';end
UPDATE gibbonAction SET URLList='rubrics.php, rubrics_add.php, rubrics_edit.php, rubrics_delete.php, rubrics_edit_editRowsColumns.php' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Rubrics') AND name='Manage Rubrics_viewEditAll';end
UPDATE gibbonAction SET URLList='rubrics.php, rubrics_add.php, rubrics_edit.php, rubrics_delete.php, rubrics_edit_editRowsColumns.php' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Rubrics') AND name='Manage Rubrics_viewAllEditLearningArea';end
ALTER TABLE `gibbonRubricRow` CHANGE `title` `title` VARCHAR( 40 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;end
ALTER TABLE `gibbonMarkbookColumn` ADD `gibbonRubricID` INT( 8 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `gibbonScaleIDEffort`;end
CREATE TABLE `gibbonRubricEntry` (`gibbonRubricEntry` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonRubricID` int(8) unsigned NOT NULL, `gibbonPersonID` int(10) unsigned zerofill NOT NULL, `gibbonRubricCellID` int(11) unsigned zerofill NOT NULL, `contextDBTable` varchar(255) NOT NULL COMMENT 'Which database table is this entry related to?', `contextDBTableID` varchar(20) NOT NULL, PRIMARY KEY (`gibbonRubricEntry`)) ENGINE=MyISAM ;end
UPDATE gibbonAction SET URLList='tt.php, tt_add.php, tt_edit.php, tt_delete.php, tt_import.php, tt_edit_day_add.php, tt_edit_day_edit.php, tt_edit_day_delete.php, tt_edit_day_edit_class.php, tt_edit_day_edit_class_delete.php, tt_edit_day_edit_class_add.php, tt_edit_day_edit_class_edit.php, tt_edit_day_edit_class_exception.php, tt_edit_day_edit_class_exception_add.php, tt_edit_day_edit_class_exception_delete.php' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Timetable Admin') AND name='Manage Timetables';end
CREATE TABLE `gibbonTTImport` (`gibbonTTImportID` INT( 14 ) UNSIGNED ZEROFILL NULL AUTO_INCREMENT PRIMARY KEY ,`courseNameShort` VARCHAR( 6 ) NOT NULL ,`classNameShort` VARCHAR( 5 ) NOT NULL ,`dayName` VARCHAR( 12 ) NOT NULL ,`rowName` VARCHAR( 12 ) NOT NULL ,`teacherUsernameList` TEXT NOT NULL ,`spaceName` VARCHAR( 30 ) NOT NULL) ENGINE=MYISAM ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Activities'), 'Activity Choices by Student', 1, 'Reports', 'View all student activity choices in the current year for a given student', 'report_activityChoices_byStudent.php', 'report_activityChoices_byStudent.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Activities' AND gibbonAction.name='Activity Choices by Student'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Activities' AND gibbonAction.name='Activity Choices by Student'));end
ALTER TABLE `gibbonMessageWallPost` CHANGE `attachment` `attachment` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL;end
ALTER TABLE `gibbonPlannerEntry` CHANGE `homeworkSubmissionDrafts` `homeworkSubmissionDrafts` VARCHAR( 1 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonPlannerEntry` CHANGE `homeworkSubmissionRequired` `homeworkSubmissionRequired` ENUM( 'Optional', 'Compulsory' ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'Optional' ;end
ALTER TABLE `gibbonRollGroup` ADD `gibbonRollGroupIDNext` INT(5) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
ALTER TABLE `gibbonUnit` CHANGE `name` `name` VARCHAR( 40 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `type` `type` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `description` `description` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `attachment` `attachment` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `details` `details` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonCourse` DROP `gibbonPersonIDHeadOfCourse` ;end
ALTER TABLE `gibbonPersonPayment` CHANGE `companyName` `companyName` VARCHAR( 100 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL , CHANGE `companyContact` `companyContact` VARCHAR( 100 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL , CHANGE `companyAddress` `companyAddress` VARCHAR( 255 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL , CHANGE `companyEmail` `companyEmail` VARCHAR( 255 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL , CHANGE `companyPhone` `companyPhone` VARCHAR( 20 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL ;end
ALTER TABLE `gibbonPerson` CHANGE `image_240` `image_240` VARCHAR( 255 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL, CHANGE `image_75` `image_75` VARCHAR( 255 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL;end
UPDATE `gibbonAction` SET URLList='units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_add.php, units_edit_copyback.php, units_dump.php' WHERE name LIKE 'Manage Units_%' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
" ;

//v4.1.00
$count++ ;
$sql[$count][0]="4.1.00" ;
$sql[$count][1]="
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Grade Scales', 1, 'ARR', 'Manage all aspects of grade scales, which are used throughout ARR to control grade input.', 'gradeScales_manage.php, gradeScales_manage_add.php, gradeScales_manage_edit.php, gradeScales_manage_delete.php, gradeScales_manage_edit_grade_add.php, gradeScales_manage_edit_grade_edit.php, gradeScales_manage_edit_grade_delete.php', 'gradeScales_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Grade Scales'));end
ALTER TABLE `gibbonScale` CHANGE `lowestAcceptable` `lowestAcceptable` VARCHAR( 5 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT 'This is the sequence number of the lowest grade a student can get without being unsatisfactory'; end
" ;

//v4.2.00
$count++ ;
$sql[$count][0]="4.2.00" ;
$sql[$count][1]="
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'milestones', 'Milestones', 'Comma-separated list of the major steps in the application process. Applicants can be tracked through the various stages.', '');end
ALTER TABLE `gibbonApplicationForm` ADD `milestones` TEXT NOT NULL;end
ALTER TABLE `gibbonApplicationForm` ADD `notes` TEXT NOT NULL;end
ALTER TABLE `gibbonPersonMedicalConditionUpdate` CHANGE `name` `name` VARCHAR( 80 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;end
CREATE TABLE `gibbonUnitOutcome` (`gibbonUnitOutcomeID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY ,`gibbonUnitID` INT( 10 ) UNSIGNED ZEROFILL NOT NULL ,`gibbonOutcomeID` INT( 8 ) UNSIGNED ZEROFILL NOT NULL ,`sequenceNumber` INT( 4 ) NOT NULL,`content` TEXT NOT NULL) ENGINE=MYISAM;end
ALTER TABLE `gibbonMarkbookColumn` CHANGE `gibbonRubricID` `gibbonRubricIDAttainment` INT( 8 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
ALTER TABLE `gibbonMarkbookColumn` ADD `gibbonRubricIDEffort` INT( 8 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `gibbonRubricIDAttainment` ;end
ALTER TABLE `gibbonMarkbookEntry` CHANGE `response` `response` VARCHAR( 255 ) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Rubrics'), 'View Rubrics', 0, '', 'View all rubrics in the school, except students who can only view those for own year group.', 'rubrics_view.php, rubrics_view_full.php', 'rubrics_view.php', 'N', 'N', 'Y', 'N', 'N', 'Y', 'Y', 'Y', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '3', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Rubrics' AND gibbonAction.name='View Rubrics'));end
" ;

//v4.3.00
$count++ ;
$sql[$count][0]="4.3.00" ;
$sql[$count][1]="
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Activities'), 'Activity Enrollment Summary', 0, 'Reports', 'View summary enrollment information for all activities in the current year.', 'report_activityEnrollmentSummary.php', 'report_activityEnrollmentSummary.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Activities' AND gibbonAction.name='Activity Enrollment Summary'));end
ALTER DATABASE " . $databaseName . " CHARACTER SET utf8 COLLATE utf8_general_ci;end
ALTER TABLE `gibbonActivity` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonActivitySlot` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonActivityStaff` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonActivityStudent` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonActivityStudentPayment` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonCrowdAssessDiscuss` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonCrowdAssessLike` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonExternalAssessment` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonExternalAssessmentField` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonExternalAssessmentStudent` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonExternalAssessmentStudentEntry` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonFileExtension` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonIN` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonLearningArea` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonLearningAreaResource` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonLearningAreaStaff` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonMedicalCondition` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonMessageWallPost` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonMessageWallPostTarget` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPersonMedical` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPersonMedicalCondition` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPersonMedicalConditionUpdate` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPersonMedicalUpdate` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPersonPayment` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPlannerEntryAttendance` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPlannerEntryAttendanceLog` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPlannerEntryDiscuss` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPlannerEntryGuest` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPlannerEntryHomework` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonPlannerEntryLike` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonResource` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonResourceTag` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonScale` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonScaleGrade` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonSpace` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonStaff` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTT` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTTColumn` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTTColumnRow` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTTDay` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTTDayDate` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTTDayRowClass` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonTTDayRowClassException` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonUnit` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonUnitClass` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;end
ALTER TABLE `gibbonAction` CHANGE `name` `name` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'The action name should be unqiue to the module that it is related to', CHANGE `category` `category` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `description` `description` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `URLList` `URLList` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Comma seperated list of all URLs that make up this action', CHANGE `entryURL` `entryURL` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `defaultPermissionAdmin` `defaultPermissionAdmin` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N', CHANGE `defaultPermissionTeacher` `defaultPermissionTeacher` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N', CHANGE `defaultPermissionStudent` `defaultPermissionStudent` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N', CHANGE `defaultPermissionParent` `defaultPermissionParent` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N', CHANGE `defaultPermissionSupport` `defaultPermissionSupport` ENUM('N','Y') CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT 'N';end
ALTER TABLE `gibbonAction` CHANGE `defaultPermissionSupport` `defaultPermissionSupport` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N';end
ALTER TABLE `gibbonActivity` CHANGE `active` `active` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y',CHANGE `name` `name` VARCHAR( 40 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `type` `type` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `gibbonSchoolYearTermIDList` `gibbonSchoolYearTermIDList` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `gibbonYearGroupIDList` `gibbonYearGroupIDList` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `description` `description` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonActivitySlot` CHANGE `locationExternal` `locationExternal` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonActivityStaff` CHANGE `role` `role` ENUM( 'Organiser', 'Coach', 'Assistant', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Organiser' ;end
ALTER TABLE `gibbonActivityStudent` CHANGE `status` `status` ENUM( 'Accepted', 'Pending', 'Waiting List', 'Not Accepted' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Pending';end
ALTER TABLE `gibbonActivityStudentPayment` CHANGE `studentPaymentPaid` `studentPaymentPaid` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N' ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `surname` `surname` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `firstName` `firstName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `otherNames` `otherNames` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `preferredName` `preferredName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `officialName` `officialName` VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `gender` `gender` ENUM('M','F') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'M', CHANGE `status` `status` ENUM('Pending','Accepted','Rejected','Withdrawn') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Pending', CHANGE `email` `email` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `address1` `address1` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile1` `mobile1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline1` `landline1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `countryOfBirth` `countryOfBirth` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship1` `citizenship1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship1Passport` `citizenship1Passport` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `nationalIDCardCountry` `nationalIDCardCountry` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `nationalIDCardNumber` `nationalIDCardNumber` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1surname` `parent1surname` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent1firstName` `parent1firstName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent1otherNames` `parent1otherNames` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent1preferredName` `parent1preferredName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent1gender` `parent1gender` ENUM('M','F') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'M', CHANGE `parent1citizenship1` `parent1citizenship1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1nationalIDCardCountry` `parent1nationalIDCardCountry` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1nationalIDCardNumber` `parent1nationalIDCardNumber` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1email` `parent1email` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent1address1` `parent1address1` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1mobile1` `parent1mobile1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1landline1` `parent1landline1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent1profession` `parent1profession` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent1employer` `parent1employer` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent2surname` `parent2surname` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent2firstName` `parent2firstName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent2otherNames` `parent2otherNames` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent2preferredName` `parent2preferredName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `parent2gender` `parent2gender` ENUM('M','F') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'M', CHANGE `parent2citizenship1` `parent2citizenship1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent2nationalIDCardCountry` `parent2nationalIDCardCountry` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent2nationalIDCardNumber` `parent2nationalIDCardNumber` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent2email` `parent2email` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent2address1` `parent2address1` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent2mobile1` `parent2mobile1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent2landline1` `parent2landline1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `parent2profession` `parent2profession` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent2employer` `parent2employer` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;end
ALTER TABLE `gibbonBehaviour` CHANGE `type` `type` ENUM( 'Positive', 'Negative' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `descriptor` `descriptor` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `level` `level` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonCountry` CHANGE `printable_name` `printable_name` VARCHAR( 80 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonCourse` CHANGE `name` `name` VARCHAR( 45 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL , CHANGE `nameShort` `nameShort` VARCHAR( 6 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `description` `description` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonCourseClass` CHANGE `name` `name` VARCHAR( 12 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `nameShort` `nameShort` VARCHAR( 5 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonCourseClassPerson` CHANGE `role` `role` ENUM( 'Student', 'Teacher', 'Assistant', 'Technician', 'Parent', 'Student - Left', 'Teacher - Left' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonCrowdAssessDiscuss` CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonDaysOfWeek` CHANGE `name` `name` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `schoolDay` `schoolDay` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y' ;end
ALTER TABLE `gibbonExternalAssessment` CHANGE `name` `name` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `description` `description` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `website` `website` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `active` `active` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonExternalAssessmentField` CHANGE `name` `name` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `category` `category` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `gibbonYearGroupIDList` `gibbonYearGroupIDList` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonFamily` CHANGE `name` `name` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonFamilyAdult` CHANGE `role` `role` ENUM( 'Parent', 'Extended Family', 'Employee', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `childDataAccess` `childDataAccess` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `contactCall` `contactCall` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `contactSMS` `contactSMS` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `contactEmail` `contactEmail` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `contactMail` `contactMail` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonFamilyChild` CHANGE `role` `role` ENUM( '', 'Biological', 'Adopted', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonFileExtension` CHANGE `type` `type` ENUM( 'Document', 'Spreadsheet', 'Presentation', 'Graphics/Design', 'Video', 'Audio', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Other',CHANGE `extension` `extension` VARCHAR( 7 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `name` `name` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonHook` CHANGE `type` `type` ENUM( 'Student Profile', 'Unit' ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonHouse` CHANGE `name` `name` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonIN` CHANGE `strategies` `strategies` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `targets` `targets` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `notes` `notes` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonLearningArea` CHANGE `name` `name` VARCHAR( 40 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `subjectListing` `subjectListing` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `blurb` `blurb` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `logo` `logo` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonLearningAreaResource` CHANGE `type` `type` ENUM( 'Link', 'File' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `name` `name` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `url` `url` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonLearningAreaStaff` CHANGE `role` `role` ENUM( 'Coordinator', 'Assistant Coordinator', 'Teacher (Curriculum)', 'Teacher', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonMarkbookColumn` CHANGE `type` `type` ENUM('Unit','Test','Exam','Essay','Reflection','Homework','End of Year','Other') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `name` `name` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `description` `description` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `attachment` `attachment` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `attainment` `attainment` ENUM('Y','N') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y', CHANGE `effort` `effort` ENUM('Y','N') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y', CHANGE `comment` `comment` ENUM('Y','N') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y', CHANGE `complete` `complete` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `viewableStudents` `viewableStudents` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `viewableParents` `viewableParents` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonMarkbookEntry` CHANGE `attainmentValue` `attainmentValue` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `attainmentDescriptor` `attainmentDescriptor` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `attainmentConcern` `attainmentConcern` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `effortValue` `effortValue` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `effortDescriptor` `effortDescriptor` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `effortConcern` `effortConcern` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `response` `response` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonMedicalCondition` CHANGE `name` `name` VARCHAR( 80 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonMessageWallPost` CHANGE `subject` `subject` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `details` `details` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `attachment` `attachment` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonMessageWallPostTarget` CHANGE `type` `type` ENUM( 'Class', 'Course', 'Roll Group', 'Year Group', 'Activity', 'Role' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `parents` `parents` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N';end
ALTER TABLE `gibbonModule` CHANGE `name` `name` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'This name should be globally unique preferably, but certainly locally unique',CHANGE `description` `description` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `entryURL` `entryURL` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'index.php',CHANGE `type` `type` ENUM( 'Core', 'Additional' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Core',CHANGE `active` `active` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y',CHANGE `category` `category` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` CHANGE `title` `title` VARCHAR(5) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `surname` `surname` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `firstName` `firstName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `otherNames` `otherNames` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `preferredName` `preferredName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `officialName` `officialName` VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `gender` `gender` ENUM('M','F') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'M', CHANGE `username` `username` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `password` `password` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `status` `status` ENUM('Full','Expected','Left') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Full', CHANGE `canLogin` `canLogin` ENUM('Y','N') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y', CHANGE `gibbonRoleIDAll` `gibbonRoleIDAll` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `email` `email` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emailAlternate` `emailAlternate` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `image_240` `image_240` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `image_75` `image_75` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `lastIPAddress` `lastIPAddress` VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `address1` `address1` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `address2` `address2` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile1` `mobile1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile2` `mobile2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile3` `mobile3` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline1` `landline1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline2` `landline2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline3` `landline3` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `website` `website` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `countryOfBirth` `countryOfBirth` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `ethnicity` `ethnicity` VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship1` `citizenship1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship1Passport` `citizenship1Passport` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship2` `citizenship2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship2Passport` `citizenship2Passport` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `religion` `religion` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `nationalIDCardCountry` `nationalIDCardCountry` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `nationalIDCardNumber` `nationalIDCardNumber` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `profession` `profession` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `employer` `employer` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `jobTitle` `jobTitle` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Name` `emergency1Name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Number1` `emergency1Number1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Number2` `emergency1Number2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Relationship` `emergency1Relationship` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Name` `emergency2Name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Number1` `emergency2Number1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Number2` `emergency2Number2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Relationship` `emergency2Relationship` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonMedical` CHANGE `bloodType` `bloodType` ENUM( '', 'O+', 'A+', 'B+', 'AB+', 'O-', 'A-', 'B-', 'AB-' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `longTermMedication` `longTermMedication` ENUM( '', 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `longTermMedicationDetails` `longTermMedicationDetails` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `tetanusWithin10Years` `tetanusWithin10Years` ENUM( '', 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonMedicalCondition` CHANGE `name` `name` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `risk` `risk` ENUM( 'Low', 'Medium', 'High' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `triggers` `triggers` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `reaction` `reaction` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `response` `response` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `medication` `medication` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `lastEpisodeTreatment` `lastEpisodeTreatment` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonMedicalConditionUpdate` CHANGE `name` `name` VARCHAR( 80 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `risk` `risk` ENUM( 'Low', 'Medium', 'High' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `triggers` `triggers` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `reaction` `reaction` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `response` `response` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `medication` `medication` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `lastEpisodeTreatment` `lastEpisodeTreatment` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonMedicalUpdate` CHANGE `status` `status` ENUM( 'Pending', 'Complete' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Pending',CHANGE `bloodType` `bloodType` ENUM( '', 'O+', 'A+', 'B+', 'AB+', 'O-', 'A-', 'B-', 'AB-' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `longTermMedication` `longTermMedication` ENUM( '', 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `longTermMedicationDetails` `longTermMedicationDetails` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `tetanusWithin10Years` `tetanusWithin10Years` ENUM( '', 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonPayment` CHANGE `invoiceTo` `invoiceTo` ENUM( 'Family', 'Company' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `companyName` `companyName` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,CHANGE `companyContact` `companyContact` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,CHANGE `companyAddress` `companyAddress` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,CHANGE `companyEmail` `companyEmail` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,CHANGE `companyPhone` `companyPhone` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `title` `title` VARCHAR(5) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `surname` `surname` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `firstName` `firstName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `otherNames` `otherNames` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `preferredName` `preferredName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '', CHANGE `officialName` `officialName` VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `email` `email` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emailAlternate` `emailAlternate` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `address1` `address1` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `address2` `address2` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile1` `mobile1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile2` `mobile2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `mobile3` `mobile3` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline1` `landline1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline2` `landline2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `landline3` `landline3` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `countryOfBirth` `countryOfBirth` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `ethnicity` `ethnicity` VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship1` `citizenship1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship1Passport` `citizenship1Passport` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship2` `citizenship2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `citizenship2Passport` `citizenship2Passport` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `religion` `religion` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `nationalIDCardCountry` `nationalIDCardCountry` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `nationalIDCardNumber` `nationalIDCardNumber` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `profession` `profession` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `employer` `employer` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `jobTitle` `jobTitle` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Name` `emergency1Name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Number1` `emergency1Number1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Number2` `emergency1Number2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency1Relationship` `emergency1Relationship` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Name` `emergency2Name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Number1` `emergency2Number1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Number2` `emergency2Number2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `emergency2Relationship` `emergency2Relationship` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;end
ALTER TABLE `gibbonPlannerEntryAttendance` CHANGE `type` `type` ENUM( 'Present', 'Present - Late', 'Absent', 'Left', 'Left - Early' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPlannerEntryDiscuss` CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPlannerEntryGuest` CHANGE `role` `role` ENUM( 'Guest Student', 'Guest Teacher', 'Guest Assistant', 'Guest Technician', 'Guest Parent', 'Other Guest' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPlannerEntryHomework` CHANGE `type` `type` ENUM( 'Link', 'File' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `version` `version` ENUM( 'Draft', 'Final' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `status` `status` ENUM( 'On Time', 'Late' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `location` `location` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonResource` CHANGE `name` `name` VARCHAR( 60 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `description` `description` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `gibbonYearGroupIDList` `gibbonYearGroupIDList` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `type` `type` ENUM( 'File', 'HTML', 'Link' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `category` `category` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `purpose` `purpose` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `tags` `tags` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `content` `content` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonResourceTag` CHANGE `tag` `tag` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonRole` CHANGE `name` `name` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `description` `description` VARCHAR( 60 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `type` `type` ENUM( 'Core', 'Additional' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Core' ;end
ALTER TABLE `gibbonRollGroup` CHANGE `name` `name` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 5 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonRubricRow` CHANGE `title` `title` VARCHAR( 40 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonScale` CHANGE `name` `name` VARCHAR( 40 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `usage` `usage` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `lowestAcceptable` `lowestAcceptable` VARCHAR( 5 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'This is the sequence number of the lowest grade a student can get without being unsatisfactory',CHANGE `active` `active` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Y',CHANGE `numeric` `numeric` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N' ;end
ALTER TABLE `gibbonScaleGrade` CHANGE `value` `value` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `descriptor` `descriptor` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonSchoolYear` CHANGE `name` `name` VARCHAR( 9 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',CHANGE `status` `status` ENUM( 'Past', 'Current', 'Upcoming' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Upcoming' ;end
ALTER TABLE `gibbonSchoolYearSpecialDay` CHANGE `type` `type` ENUM( 'School Closure', 'Timing Change' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `name` `name` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `description` `description` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonSchoolYearTerm` CHANGE `name` `name` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonSetting` CHANGE `name` `name` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameDisplay` `nameDisplay` VARCHAR( 40 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `description` `description` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `value` `value` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonSpace` CHANGE `name` `name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `type` `type` ENUM('Classroom','Performance','Hall','Outdoor','Undercover','Storage','Office','Staffroom','Study','Library','Other') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `computer` `computer` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `projector` `projector` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `tv` `tv` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `dvd` `dvd` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `hifi` `hifi` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `speakers` `speakers` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `iwb` `iwb` ENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `phoneInternal` `phoneInternal` VARCHAR(5) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `phoneExternal` `phoneExternal` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, CHANGE `comment` `comment` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;end
ALTER TABLE `gibbonStaff` CHANGE `type` `type` ENUM( 'Teaching', 'Support' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `jobTitle` `jobTitle` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonTheme` CHANGE `name` `name` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `description` `description` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `active` `active` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N';end
ALTER TABLE `gibbonTT` CHANGE `name` `name` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 12 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `gibbonYearGroupIDList` `gibbonYearGroupIDList` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `active` `active` ENUM( 'Y', 'N' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonTTColumn` CHANGE `name` `name` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 12 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonTTColumnRow` CHANGE `name` `name` VARCHAR( 12 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `type` `type` ENUM( 'Lesson', 'Pastoral', 'Sport', 'Break', 'Service', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonTTDay` CHANGE `name` `name` VARCHAR( 12 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonUnitClass` CHANGE `running` `running` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N' ;end
ALTER TABLE `gibbonYearGroup` CHANGE `name` `name` VARCHAR( 10 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameShort` `nameShort` VARCHAR( 4 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
" ;

//v4.4.00
$count++ ;
$sql[$count][0]="4.4.00" ;
$sql[$count][1]="
ALTER TABLE `gibbonApplicationForm` ADD `dateStart` DATE NULL DEFAULT NULL ;end
RENAME TABLE `gibbonLearningArea` TO `gibbonDepartment` ;end
ALTER TABLE `gibbonDepartment` CHANGE `gibbonLearningAreaID` `gibbonDepartmentID` INT( 4 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT ;end
RENAME TABLE `gibbonLearningAreaResource` TO `gibbonDepartmentResource` ;end
ALTER TABLE `gibbonDepartmentResource` CHANGE `gibbonLearningAreaResourceID` `gibbonDepartmentResourceID` INT( 8 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT ;end
ALTER TABLE `gibbonDepartmentResource` CHANGE `gibbonLearningAreaID` `gibbonDepartmentID` INT( 4 ) UNSIGNED ZEROFILL NOT NULL ;end
RENAME TABLE `gibbonLearningAreaStaff` TO `gibbonDepartmentStaff` ;end
ALTER TABLE `gibbonDepartmentStaff` CHANGE `gibbonLearningAreaStaffID` `gibbonDepartmentStaffID` INT( 6 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT ;end
ALTER TABLE `gibbonDepartmentStaff` CHANGE `gibbonLearningAreaID` `gibbonDepartmentID` INT( 4 ) UNSIGNED ZEROFILL NOT NULL ;end
UPDATE `gibbonAction` SET `name`='Manage Departments', `category`='Groupings', `description`='Allows admins to create learning areas and administrative groups.', `URLList`='department_manage.php,department_manage_add.php,department_manage_edit.php,department_manage_delete.php', `entryURL`='department_manage.php' WHERE name='Manage Learning Areas' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin');end
ALTER TABLE `gibbonCourse` CHANGE `gibbonLearningAreaID` `gibbonDepartmentID` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
ALTER TABLE `gibbonOutcome` CHANGE `gibbonLearningAreaID` `gibbonDepartmentID` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
ALTER TABLE `gibbonRubric` CHANGE `gibbonLearningAreaID` `gibbonDepartmentID` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
UPDATE gibbonModule SET name='Departments', description='View details within a department', entryURL='departments.php' WHERE name='Learning Areas';end
UPDATE `gibbonAction` SET `name`='View Departments', `category`='', `description`='Allows uers to view all department details.', `URLList`='departments.php, department.php, department_course.php, department_course_class.php, department_course_class_full.php, department_course_unit_add.php, department_course_unit_edit.php, department_course_unit_delete.php, department_course_unit_duplicate.php, department_edit.php, department_course_edit.php', `entryURL`='departments.php' WHERE name='View Learning Areas' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Departments');end
ALTER TABLE `gibbonDepartment` ADD `type` ENUM( 'Learning Area', 'Administration' ) NOT NULL DEFAULT 'Learning Area' AFTER `gibbonDepartmentID` ;end
ALTER TABLE `gibbonDepartmentStaff` CHANGE `role` `role` ENUM( 'Coordinator', 'Assistant Coordinator', 'Teacher (Curriculum)', 'Teacher', 'Director', 'Manager', 'Administrator', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPlannerEntryHomework` CHANGE `status` `status` ENUM( 'On Time', 'Late', 'Exemption' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPlannerEntryHomework` CHANGE `location` `location` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end 
INSERT INTO `gibbonModule` (`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`) VALUES ('Library', 'Allows the management of a catalog from which items can be borrowed.', 'library_view.php', 'Core', 'Y', 'T&L', '', 'Ross Parker', 'http://rossparker.org') ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Library'), 'Manage Catalog', 0, '', 'Control all items in the school library catalog', 'library_manage_catalog.php, library_manage_catalog_add.php, library_manage_catalog_edit.php, library_manage_catalog_delete.php, library_manage_catalog_duplicate.php', 'library_manage_catalog.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Manage Catalog'));end
CREATE TABLE `gibbonLibraryType` (  `gibbonLibraryTypeID` int(5) unsigned zerofill NOT NULL AUTO_INCREMENT,  `name` varchar(30) NOT NULL,  `active` enum('Y','N') NOT NULL DEFAULT 'Y',  `fields` text NOT NULL,  PRIMARY KEY (`gibbonLibraryTypeID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonLibraryType` (`gibbonLibraryTypeID`, `name`, `active`, `fields`) VALUES (00004, 'Print Publication', 'Y', 'a:20:{i:0;a:6:{s:4:\"name\";s:6:\"Format\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:6:\"Select\";s:7:\"options\";s:341:\",Art - Original,Art - Reproduction,Book,Braille,Cartographic material,Chart,Diorama,Electronic Resource,Filmstrip,Flash Card,Game,Globe,Journal,Kit,Large print,Magazine,Manuscript,Microform,Microscope slide,Model,Motion Picture,Music,Picture,Realia,Resource,Serial,Slide,Sound Recording,Technical Drawing,Text,Toy,Transparency,Videorecording\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:1;a:6:{s:4:\"name\";s:9:\"Publisher\";s:11:\"description\";s:45:\"Name of the company who published the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:2;a:6:{s:4:\"name\";s:16:\"Publication Date\";s:11:\"description\";s:36:\"Format: dd/mm/yyyy, mm/yyyy or yyyy.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:3;a:6:{s:4:\"name\";s:22:\"Country of Publication\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:4;a:6:{s:4:\"name\";s:7:\"Edition\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:5;a:6:{s:4:\"name\";s:6:\"ISBN10\";s:11:\"description\";s:28:\"10-digit unique ISBN number.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"Y\";}i:6;a:6:{s:4:\"name\";s:6:\"ISBN13\";s:11:\"description\";s:28:\"13-digit unique ISBN number.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"13\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"Y\";}i:7;a:6:{s:4:\"name\";s:11:\"Description\";s:11:\"description\";s:36:\"A brief blurb describing the volume.\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:8;a:6:{s:4:\"name\";s:8:\"Subjects\";s:11:\"description\";s:33:\"Comma separated list of subjects.\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:1:\"2\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:9;a:6:{s:4:\"name\";s:14:\"Classification\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:10;a:6:{s:4:\"name\";s:14:\"Control Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:11;a:6:{s:4:\"name\";s:20:\"Cataloging Authority\";s:11:\"description\";s:37:\"Issuing authority for Control Number.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:12;a:6:{s:4:\"name\";s:21:\"Reader Age (Youngest)\";s:11:\"description\";s:50:\"Age in years, youngest reading age recommendation.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"3\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:13;a:6:{s:4:\"name\";s:19:\"Reader Age (Oldest)\";s:11:\"description\";s:48:\"Age in years, oldest reading age recommendation.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"3\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:14;a:6:{s:4:\"name\";s:10:\"Page Count\";s:11:\"description\";s:34:\"The number of pages in the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"4\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:15;a:6:{s:4:\"name\";s:6:\"Height\";s:11:\"description\";s:41:\"The physical height of the volume, in cm.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:16;a:6:{s:4:\"name\";s:5:\"Width\";s:11:\"description\";s:40:\"The physical width of the volume, in cm.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:17;a:6:{s:4:\"name\";s:9:\"Thickness\";s:11:\"description\";s:44:\"The physical thickness of the volume, in cm.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:18;a:6:{s:4:\"name\";s:8:\"Language\";s:11:\"description\";s:35:\"The primary language of the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:19;a:6:{s:4:\"name\";s:4:\"Link\";s:11:\"description\";s:44:\"Link to web-based information on the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}}');end
INSERT INTO `gibbonLibraryType` (`gibbonLibraryTypeID`, `name`, `active`, `fields`) VALUES (00007, 'Computer', 'Y', 'a:14:{i:0;a:6:{s:4:\"name\";s:11:\"Form Factor\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:6:\"Select\";s:7:\"options\";s:50:\"Desktop, Laptop, Tablet, Phone, Set-Top Box, Other\";s:7:\"default\";s:6:\"Laptop\";s:8:\"required\";s:1:\"Y\";}i:1;a:6:{s:4:\"name\";s:16:\"Operating System\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:2;a:6:{s:4:\"name\";s:13:\"Serial Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:3;a:6:{s:4:\"name\";s:10:\"Model Name\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:4;a:6:{s:4:\"name\";s:8:\"Model ID\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:5;a:6:{s:4:\"name\";s:8:\"CPU Type\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:6;a:6:{s:4:\"name\";s:9:\"CPU Speed\";s:11:\"description\";s:7:\"In GHz.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:7;a:6:{s:4:\"name\";s:6:\"Memory\";s:11:\"description\";s:17:\"Total RAM, in GB.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:8;a:6:{s:4:\"name\";s:7:\"Storage\";s:11:\"description\";s:30:\"Total HDD/SDD capacity, in GB.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:9;a:6:{s:4:\"name\";s:11:\"Accessories\";s:11:\"description\";s:43:\"Any chargers, display dongles, remotes etc?\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:10;a:6:{s:4:\"name\";s:15:\"Warranty Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:11;a:6:{s:4:\"name\";s:15:\"Warranty Expiry\";s:11:\"description\";s:19:\"Format: dd/mm/yyyy.\";s:4:\"type\";s:4:\"Date\";s:7:\"options\";s:0:\"\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:12;a:6:{s:4:\"name\";s:19:\"Last Reinstall Date\";s:11:\"description\";s:19:\"Format: dd/mm/yyyy.\";s:4:\"type\";s:4:\"Date\";s:7:\"options\";s:0:\"\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:13;a:6:{s:4:\"name\";s:16:\"Repair Log/Notes\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}}');end
CREATE TABLE `gibbonLibraryItem` (  `gibbonLibraryItemID` int(10) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonLibraryTypeID` int(5) unsigned zerofill NOT NULL,  `id` varchar(255) NOT NULL,  `name` varchar(255) NOT NULL COMMENT 'Name for book, model for computer, etc.',  `producer` varchar(255) NOT NULL COMMENT 'Author for book, manufacturer for computer, etc',  `fields` text NOT NULL,  `vendor` varchar(100) NOT NULL,  `purchaseDate` date DEFAULT NULL,  `invoiceNumber` varchar(50) NOT NULL,  `imageType_320` enum('','Link','File') NOT NULL DEFAULT '' COMMENT 'Type of larger image. Image should be 320px x320px, or smaller.',  `imageLocation_320` varchar(255) NOT NULL COMMENT 'URL or local FS path of image.',  `imageType_100` enum('','Link','File') NOT NULL DEFAULT '' COMMENT 'Type of smaller image. Image should be 100px x100px, or smaller.',  `imageLocation_100` varchar(255) NOT NULL COMMENT 'URL or local FS path of image.',  `comment` text NOT NULL,  `gibbonSpaceID` int(5) unsigned zerofill DEFAULT NULL,  `ownershipType` enum('School','Individual') NOT NULL DEFAULT 'School',  `gibbonPersonIDOwnership` int(10) unsigned zerofill DEFAULT NULL COMMENT 'If owned by school, then this is the main user. If owned by individual, then this is that individual.',  `gibbonDepartmentID` int(4) unsigned zerofill DEFAULT NULL COMMENT 'Who is responsible for managing this item? By default this will be the person who added the record, but it can be changed.',  `borrowable` enum('Y','N') NOT NULL DEFAULT 'Y',  `status` enum('Active','Decommissioned','Lost','On Loan','Repair','Reserved') NOT NULL DEFAULT 'Active' COMMENT 'The current status of the book.',  `gibbonPersonIDStatusResponsible` int(10) unsigned zerofill DEFAULT NULL COMMENT 'The person who is responsible for the current status.',  `gibbonPersonIDStatusRecorder` int(10) unsigned zerofill DEFAULT NULL COMMENT 'The person who recored the current status.',  `timestameStatus` datetime DEFAULT NULL COMMENT 'The time the status was recorded',  `returnExpected` datetime DEFAULT NULL COMMENT 'The time when the loan expires.',  `returnAction` enum('Make Available','Decommission','Repair','Reserve') DEFAULT NULL COMMENT 'What to do when the item is returned?',  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestampCreator` datetime NOT NULL,  `gibbonPersonIDUpdate` int(10) unsigned zerofill DEFAULT NULL,  `timestampUpdate` datetime DEFAULT NULL,  PRIMARY KEY (`gibbonLibraryItemID`),  UNIQUE KEY `id` (`id`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
ALTER TABLE `gibbonLibraryItem` DROP `imageType_100` ,DROP `imageLocation_100` ;end
ALTER TABLE `gibbonLibraryItem` CHANGE `imageType_320` `imageType` ENUM( '', 'Link', 'File' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Type of image. Image should be 240px x 240px, or smaller.',CHANGE `imageLocation_320` `imageLocation` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'URL or local FS path of image.' ;end
ALTER TABLE `gibbonLibraryItem` ADD `locationDetail` VARCHAR( 255 ) NOT NULL AFTER `gibbonSpaceID` ;end
ALTER TABLE `gibbonLibraryItem` CHANGE `timestameStatus` `timestampStatus` DATETIME NULL DEFAULT NULL COMMENT 'The time the status was recorded' ;end
ALTER TABLE `gibbonLibraryItem` CHANGE `status` `status` ENUM( 'Available', 'Decommissioned', 'Lost', 'On Loan', 'Repair', 'Reserved' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Available' COMMENT 'The current status of the book.' ;end 
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Library'), 'Lending & Activity Log', 0, '', 'Manage lending, returns, reservations, repairs, decommissioning, etc.', 'library_lending.php, library_lending_item.php,library_lending_item_signout.php,library_lending_item_return.php,library_lending_item_edit.php', 'library_lending.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Lending & Activity Log'));end
CREATE TABLE `gibbonLibraryItemEvent` (  `gibbonLibraryItemEventID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonLibraryItemID` int(10) unsigned zerofill NOT NULL,  `status` enum('Available','Decommissioned','Lost','On Loan','Repair','Reserved') NOT NULL DEFAULT 'Available',  `gibbonPersonIDStatusResponsible` int(10) unsigned zerofill DEFAULT NULL COMMENT 'The person who was responsible for the event.',  `gibbonPersonIDStatusRecorder` int(10) unsigned zerofill DEFAULT NULL COMMENT 'The person who recored the event.',  `timestampStatus` datetime DEFAULT NULL COMMENT 'The time the event was recorded',  `returnExpected` datetime DEFAULT NULL COMMENT 'The time when the event expires.',  `returnAction` enum('Make Available','Decommission','Repair','Reserve') DEFAULT NULL COMMENT 'What to do when the item is returned?',  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestampCreator` datetime NOT NULL,  `gibbonPersonIDUpdate` int(10) unsigned zerofill DEFAULT NULL,  `timestampUpdate` datetime DEFAULT NULL,  PRIMARY KEY (`gibbonLibraryItemEventID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;end
ALTER TABLE `gibbonScaleGrade` CHANGE `descriptor` `descriptor` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonLibraryItem` ADD `gibbonPersonIDReturnAction` INT( 10 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `returnAction` ;end
ALTER TABLE `gibbonLibraryItemEvent` ADD `gibbonPersonIDReturnAction` INT( 10 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `returnAction` ;end
ALTER TABLE `gibbonLibraryItemEvent` CHANGE `returnExpected` `returnExpected` DATE NULL DEFAULT NULL COMMENT 'The time when the event expires.';end
ALTER TABLE `gibbonLibraryItem` CHANGE `returnExpected` `returnExpected` DATE NULL DEFAULT NULL COMMENT 'The time when the event expires.';end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Library', 'defaultLoanLength', 'Default Loan Length', 'The standard loan length for a library item, in days', '7');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Library Settings', 0, 'Teaching & Learning', 'Manage settings for the Library module', 'librarySettings.php', 'librarySettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Library Settings'));end
ALTER TABLE `gibbonLibraryItemEvent` DROP `gibbonPersonIDCreator` ,DROP `timestampCreator` ,DROP `gibbonPersonIDUpdate` ,DROP `timestampUpdate` ;
ALTER TABLE `gibbonLibraryItemEvent` ADD `timestampReturn` DATETIME NULL DEFAULT NULL ;end
ALTER TABLE `gibbonLibraryItemEvent` CHANGE `status` `status` ENUM( 'Available', 'Decommissioned', 'Lost', 'On Loan', 'Repair', 'Reserved', 'Returned' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Available';end
ALTER TABLE `gibbonLibraryItemEvent` CHANGE `gibbonPersonIDStatusRecorder` `gibbonPersonIDOut` INT( 10 ) UNSIGNED ZEROFILL NULL DEFAULT NULL COMMENT 'The person who recored the event.', CHANGE `timestampStatus` `timestampOut` DATETIME NULL DEFAULT NULL COMMENT 'The time the event was recorded',CHANGE `timestampReturn` `timestampReturn` DATETIME NULL DEFAULT NULL ;end
ALTER TABLE `gibbonLibraryItemEvent` ADD `gibbonPersonIDIn` INT( 10 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Behaviour', 'policyLink', 'Policy Link', 'A link to the school behaviour policy.', '');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'Age & Gender Summary', 0, 'Reports', 'Summarises gender, age and school year', 'report_students_ageGenderSummary.php', 'report_students_ageGenderSummary.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='Age & Gender Summary'));end
" ;



//v5.0.00
$count++ ;
$sql[$count][0]="5.0.00" ;
$oops="" ;
//Add in update code for parent1officialName and parent2officialName fields, which were left out of a previous update. Oops!
try {
	$dataOops=array("databaseName"=>$databaseName); 
	$sqlOops="SELECT * FROM information_schema.COLUMNS WHERE TABLE_SCHEMA =:databaseName AND TABLE_NAME='gibbonApplicationForm' AND (COLUMN_NAME='parent1officialName' OR COLUMN_NAME='parent2officialName')" ;
	$resultOops=$connection2->prepare($sqlOops);
	$resultOops->execute($dataOops);
}
catch(PDOException $e) { }
if ($resultOops->rowCount()==0) {
	$oops.="ALTER TABLE `gibbonApplicationForm` ADD `parent1officialName` VARCHAR( 150 ) NOT NULL AFTER `parent1preferredName` ;end" ;
	$oops.="ALTER TABLE `gibbonApplicationForm` ADD `parent2officialName` VARCHAR( 150 ) NOT NULL AFTER `parent2preferredName` ;end" ;
}
//Start normal update code.
$sql[$count][1]=$oops . "

INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'Roll Group Summary', 0, 'Reports', 'Summarises gender and number of students across all roll groups.', 'report_rollGroupSummary.php', 'report_rollGroupSummary.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='Roll Group Summary'));end
CREATE TABLE `gibbonAlertLevel` (  `gibbonAlertLevelID` int(3) unsigned zerofill NOT NULL AUTO_INCREMENT,  `name` varchar(50) NOT NULL,  `nameShort` varchar(4) NOT NULL,  `color` varchar(6) NOT NULL COMMENT 'RGB Hex, no leading #',  `colorBG` varchar(6) NOT NULL COMMENT 'RGB Hex, no leading #',  `description` text NOT NULL,  `sequenceNumber` int(3) NOT NULL,  PRIMARY KEY (`gibbonAlertLevelID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=4 ;end
INSERT INTO `gibbonAlertLevel` (`gibbonAlertLevelID`, `name`, `nameShort`, `color`, `colorBG`, `description`, `sequenceNumber`) VALUES(001, 'High', 'H', 'CC0000', 'F6CECB', 'Highest level of severity, requiring intense and immediate readiness, action, individual support or differentiation.', 3),(002, 'Medium', 'M', 'FF7414', 'FFD2A9', 'Moderate severity, requiring intermediate level of readiness, action, individual support or differentiation.', 2),(003, 'Low', 'L', '9f9f9f', 'dddddd', 'Low severity, requiring little to no readiness, action, individual support or differentiation.', 1);end
ALTER TABLE `gibbonPersonMedicalCondition` ADD `gibbonAlertLevelID` INT( 3 ) UNSIGNED ZEROFILL NOT NULL AFTER `risk`;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Alert Levels', 0, 'People', 'Manage the alert levels which are used throughout the school to flag problems.', 'alertLevelSettings.php', 'alertLevelSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Alert Levels'));end
UPDATE gibbonPersonMedicalCondition SET gibbonAlertLevelID=001 WHERE risk='High';end
UPDATE gibbonPersonMedicalCondition SET gibbonAlertLevelID=002 WHERE risk='Medium';end
UPDATE gibbonPersonMedicalCondition SET gibbonAlertLevelID=003 WHERE risk='Low';end
ALTER TABLE `gibbonPersonMedicalCondition` DROP `risk`;end
ALTER TABLE `gibbonPersonMedicalConditionUpdate` ADD `gibbonAlertLevelID` INT( 3 ) UNSIGNED ZEROFILL NOT NULL AFTER `risk`;end
UPDATE gibbonPersonMedicalConditionUpdate SET gibbonAlertLevelID=001 WHERE risk='High';end
UPDATE gibbonPersonMedicalConditionUpdate SET gibbonAlertLevelID=002 WHERE risk='Medium';end
UPDATE gibbonPersonMedicalConditionUpdate SET gibbonAlertLevelID=003 WHERE risk='Low';end
ALTER TABLE `gibbonPersonMedicalConditionUpdate` DROP `risk`;end
CREATE TABLE `gibbonINDescriptor` (  `gibbonINDescriptorID` int(3) unsigned zerofill NOT NULL AUTO_INCREMENT,  `name` varchar(50) NOT NULL,  `nameShort` varchar(5) NOT NULL,  `description` text NOT NULL,  `sequenceNumber` int(3) NOT NULL,  PRIMARY KEY (`gibbonINDescriptorID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonINDescriptor` (`gibbonINDescriptorID`, `name`, `nameShort`, `description`, `sequenceNumber`) VALUES (001, 'Special Education Needs', 'SEN', 'Official learning needs that have been professionally identified.', 1), (002, 'English as an Additional Language', 'EAL', 'Obvious language needs in English acquisition.', 2), (003, 'Other Needs', 'ON', 'Any other case. E.g. learning issues that have not been assessed, or ongoing home/family issues that should be known to staff and which may relate to teaching and learning.', 3);end
CREATE TABLE `gibbonINPersonDescriptor` (`gibbonINPersonDescriptorID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonPersonID` int(10) unsigned zerofill NOT NULL,  `gibbonINDescriptorID` int(3) unsigned zerofill NOT NULL,  `gibbonAlertLevelID` int(3) unsigned zerofill NOT NULL,  PRIMARY KEY (`gibbonINPersonDescriptorID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;end
ALTER TABLE `gibbonPerson` DROP `ind` , DROP `eal` ;end
UPDATE gibbonAction SET URLList='in_view.php, in_edit.php', precedence=2 WHERE name='Individual Needs Records_viewEdit' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Individual Needs');end
UPDATE gibbonAction SET URLList='in_view.php, in_edit.php' WHERE name='Individual Needs Records_view' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Individual Needs');end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES((SELECT gibbonModuleID FROM gibbonModule WHERE name='Individual Needs'), 'Individual Needs Records_viewContribute', 1, '', 'Allows users to contribute teaching strategies to IN records for all students ', 'in_view.php, in_edit.php', 'in_view.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Individual Needs' AND gibbonAction.name='Individual Needs Records_viewContribute'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Individual Needs' AND gibbonAction.name='Individual Needs Records_viewContribute'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage IN Descriptors', 0, 'People', 'Allows admins to control the descriptors available for use in the Individual Needs module.', 'inDescriptors_manage.php, inDescriptors_manage_add.php, inDescriptors_manage_edit.php, inDescriptors_manage_delete.php', 'inDescriptors_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage IN Descriptors'));end
ALTER TABLE `gibbonUnitBlock` ADD `teachersNotes` TEXT NOT NULL AFTER `contents` ;end
ALTER TABLE `gibbonUnitClassBlock` ADD `teachersNotes` TEXT NOT NULL AFTER `contents` ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Individual Needs'), 'Individual Needs Summary', 0, '', 'Allows user to see a flexible summary of IN data.', 'in_summary.php', 'in_summary.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Individual Needs' AND gibbonAction.name='Individual Needs Summary'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Behaviour'), 'Find Behaviour Patterns', 0, '', 'Allows user to spot students who are repeat or regular offenders.', 'behaviour_pattern.php', 'behaviour_pattern.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Behaviour' AND gibbonAction.name='Find Behaviour Patterns'));end
INSERT INTO `gibbonScale` (`name` ,`nameShort` ,`usage` ,`lowestAcceptable` ,`active` ,`numeric`)VALUES ('UK National Curriculum KS3 Simplified', 'KS3S', 'Level 8 (highest) to Level 3 (lowest)', '4', 'Y', 'N') ;end
INSERT INTO gibbonScaleGrade SET gibbonScaleID=(SELECT gibbonScaleID FROM gibbonScale WHERE name='UK National Curriculum KS3 Simplified'), value='8', descriptor='Level 8', sequenceNumber='1' ;end
INSERT INTO gibbonScaleGrade SET gibbonScaleID=(SELECT gibbonScaleID FROM gibbonScale WHERE name='UK National Curriculum KS3 Simplified'), value='7', descriptor='Level 7', sequenceNumber='2' ;end
INSERT INTO gibbonScaleGrade SET gibbonScaleID=(SELECT gibbonScaleID FROM gibbonScale WHERE name='UK National Curriculum KS3 Simplified'), value='6', descriptor='Level 6', sequenceNumber='3' ;end
INSERT INTO gibbonScaleGrade SET gibbonScaleID=(SELECT gibbonScaleID FROM gibbonScale WHERE name='UK National Curriculum KS3 Simplified'), value='5', descriptor='Level 5', sequenceNumber='4' ;end
INSERT INTO gibbonScaleGrade SET gibbonScaleID=(SELECT gibbonScaleID FROM gibbonScale WHERE name='UK National Curriculum KS3 Simplified'), value='4', descriptor='Level 4', sequenceNumber='5' ;end
INSERT INTO gibbonScaleGrade SET gibbonScaleID=(SELECT gibbonScaleID FROM gibbonScale WHERE name='UK National Curriculum KS3 Simplified'), value='3', descriptor='Level 3', sequenceNumber='6' ;end
ALTER TABLE `gibbonPerson` ADD `lockerNumber` VARCHAR( 20 ) NOT NULL ,ADD `vehicleRegistration` VARCHAR( 20 ) NOT NULL ;end
INSERT INTO `gibbonLibraryType` (`name`, `active`, `fields`) VALUES ('Other - Electronics', 'Y', 'a:8:{i:0;a:6:{s:4:\"name\";s:4:\"Type\";s:11:\"description\";s:29:\"What kind of product is this?\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"Y\";}i:1;a:6:{s:4:\"name\";s:13:\"Serial Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:2;a:6:{s:4:\"name\";s:10:\"Model Name\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:3;a:6:{s:4:\"name\";s:8:\"Model ID\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:4;a:6:{s:4:\"name\";s:11:\"Accessories\";s:11:\"description\";s:36:\"Any chargers, remotes controls, etc?\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:5;a:6:{s:4:\"name\";s:15:\"Warranty Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:6;a:6:{s:4:\"name\";s:15:\"Warranty Expiry\";s:11:\"description\";s:19:\"Format: dd/mm/yyyy.\";s:4:\"type\";s:4:\"Date\";s:7:\"options\";s:0:\"\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:7;a:6:{s:4:\"name\";s:16:\"Repair Log/Notes\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}}');end
INSERT INTO `gibbonLibraryType` (`name`, `active`, `fields`) VALUES ('Other', 'Y', 'a:1:{i:0;a:6:{s:4:\"name\";s:4:\"Type\";s:11:\"description\";s:29:\"What kind of product is this?\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"Y\";}}');end
ALTER TABLE `gibbonApplicationForm` ADD `parent1title` VARCHAR( 5 ) NOT NULL AFTER `parent1gibbonPersonID` ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent2title` VARCHAR( 5 ) NOT NULL AFTER `parent1employer` ;end
ALTER TABLE `gibbonFamily` ADD `nameAddress` VARCHAR( 100 ) NOT NULL COMMENT 'The formal name to be used for addressing the family (e.g. Mr. & Mrs. Smith)' AFTER `name` ;end
ALTER TABLE `gibbonFamilyAdult` ADD `contactPriority` INT( 2 ) NOT NULL DEFAULT '1' AFTER `childDataAccess` ;end
UPDATE gibbonAction SET categoryPermissionStudent='Y' WHERE name='New Message_houses_all' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer') ;end
UPDATE gibbonAction SET categoryPermissionStudent='Y' WHERE name='New Message_houses_my' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer') ;end
UPDATE gibbonAction SET categoryPermissionStudent='Y' WHERE name='New Message_individuals' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Mass Mailer') ;end
UPDATE `gibbonLibraryType` SET `name`='Electronics' WHERE `gibbonLibraryType`.`name` ='Other - Electronics';end
UPDATE gibbonLibraryType SET fields='a:20:{i:0;a:6:{s:4:\"name\";s:6:\"Format\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:6:\"Select\";s:7:\"options\";s:341:\",Art - Original,Art - Reproduction,Book,Braille,Cartographic material,Chart,Diorama,Electronic Resource,Filmstrip,Flash Card,Game,Globe,Journal,Kit,Large print,Magazine,Manuscript,Microform,Microscope slide,Model,Motion Picture,Music,Picture,Realia,Resource,Serial,Slide,Sound Recording,Technical Drawing,Text,Toy,Transparency,Videorecording\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:1;a:6:{s:4:\"name\";s:9:\"Publisher\";s:11:\"description\";s:45:\"Name of the company who published the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:2;a:6:{s:4:\"name\";s:16:\"Publication Date\";s:11:\"description\";s:36:\"Format: dd/mm/yyyy, mm/yyyy or yyyy.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:3;a:6:{s:4:\"name\";s:22:\"Country of Publication\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:4;a:6:{s:4:\"name\";s:7:\"Edition\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:5;a:6:{s:4:\"name\";s:6:\"ISBN10\";s:11:\"description\";s:28:\"10-digit unique ISBN number.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"Y\";}i:6;a:6:{s:4:\"name\";s:6:\"ISBN13\";s:11:\"description\";s:28:\"13-digit unique ISBN number.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"13\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"Y\";}i:7;a:6:{s:4:\"name\";s:11:\"Description\";s:11:\"description\";s:36:\"A brief blurb describing the volume.\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:8;a:6:{s:4:\"name\";s:8:\"Subjects\";s:11:\"description\";s:33:\"Comma separated list of subjects.\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:1:\"2\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:9;a:6:{s:4:\"name\";s:10:\"Collection\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:6:\"Select\";s:7:\"options\";s:230:\",Fiction, Fiction - Best Sellers, Fiction - Classics, Fiction - Mystery, Fiction - Series, Fiction - Young Adult, Nonfiction, Nonfiction - College Prep, Nonfiction - Graphic Novels, Nonfiction - Life Skills, Nonfiction - Reference\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:10;a:6:{s:4:\"name\";s:14:\"Control Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:11;a:6:{s:4:\"name\";s:20:\"Cataloging Authority\";s:11:\"description\";s:37:\"Issuing authority for Control Number.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:12;a:6:{s:4:\"name\";s:21:\"Reader Age (Youngest)\";s:11:\"description\";s:50:\"Age in years, youngest reading age recommendation.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"3\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:13;a:6:{s:4:\"name\";s:19:\"Reader Age (Oldest)\";s:11:\"description\";s:48:\"Age in years, oldest reading age recommendation.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"3\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:14;a:6:{s:4:\"name\";s:10:\"Page Count\";s:11:\"description\";s:34:\"The number of pages in the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"4\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:15;a:6:{s:4:\"name\";s:6:\"Height\";s:11:\"description\";s:41:\"The physical height of the volume, in cm.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:16;a:6:{s:4:\"name\";s:5:\"Width\";s:11:\"description\";s:40:\"The physical width of the volume, in cm.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:17;a:6:{s:4:\"name\";s:9:\"Thickness\";s:11:\"description\";s:44:\"The physical thickness of the volume, in cm.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:18;a:6:{s:4:\"name\";s:8:\"Language\";s:11:\"description\";s:35:\"The primary language of the volume.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:19;a:6:{s:4:\"name\";s:4:\"Link\";s:11:\"description\";s:44:\"Link to web-based information on the volume.\";s:4:\"type\";s:3:\"URL\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}}' WHERE name='Print Publication';end
ALTER TABLE `gibbonAction` ADD `entrySidebar` ENUM( 'Y', 'N' ) NOT NULL DEFAULT 'Y' AFTER `entryURL` ;end
UPDATE gibbonModule SET entryURL='library_manage_catalog.php' WHERE name='Library';end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL`,`entrySidebar` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Library'), 'Browse The Library', 0, '', 'Search and view all borrowable items maintained by the library', 'library_browse.php', 'library_browse.php', 'N', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Browse The Library'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Browse The Library'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '3', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Browse The Library'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Browse The Library'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '5', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Browse The Library'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Library', 'browseBGColor', 'Browse Library BG Color', 'RGB Hex value, without leading #. Background color used behind library browsing screen.', ''), (NULL , 'Library', 'browseBGImage', 'Browse Library BG Image', 'URL to background image used behind library browsing screen.', '');end
ALTER TABLE `gibbonPerson` DROP `mobile3`, DROP `landline3` ;end
ALTER TABLE `gibbonPerson` CHANGE `mobile1` `phone1` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` CHANGE `landline1` `phone2` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` CHANGE `mobile2` `phone3` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` CHANGE `landline2` `phone4` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` ADD `phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT 'Mobile' AFTER `address2Country`, ADD `phone1CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone1Type` ;end
ALTER TABLE `gibbonPerson` ADD `phone3Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone1`, ADD `phone3CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone3Type` ;end
ALTER TABLE `gibbonPerson` ADD `phone2Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone3`, ADD `phone2CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone2Type` ;end
ALTER TABLE `gibbonPerson` ADD `phone4Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone2`, ADD `phone4CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone4Type` ;end
ALTER TABLE `gibbonPerson` CHANGE `phone1Type` `phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '';end
ALTER TABLE `gibbonApplicationForm` CHANGE `mobile1` `phone1` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `landline1` `phone2` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` ADD `phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT 'Mobile' AFTER `address1Country`, ADD `phone1CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone1Type` ;end
ALTER TABLE `gibbonApplicationForm` ADD `phone2Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone1`, ADD `phone2CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone2Type` ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `phone1Type` `phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '';end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1mobile1` `parent1phone1` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1landline1` `parent1phone2` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent1phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT 'Mobile' AFTER `parent1address1Country`, ADD `parent1phone1CountryCode` VARCHAR( 7 ) NOT NULL AFTER `parent1phone1Type` ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent1phone2Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `parent1phone1`, ADD `parent1phone2CountryCode` VARCHAR( 7 ) NOT NULL AFTER `parent1phone2Type` ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1phone1Type` `parent1phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '';end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent2mobile1` `parent2phone1` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent2landline1` `parent2phone2` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent2phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT 'Mobile' AFTER `parent2address1Country`, ADD `parent2phone1CountryCode` VARCHAR( 7 ) NOT NULL AFTER `parent2phone1Type` ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent2phone2Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `parent2phone1`, ADD `parent2phone2CountryCode` VARCHAR( 7 ) NOT NULL AFTER `parent2phone2Type` ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent2phone1Type` `parent2phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '';end
ALTER TABLE `gibbonPersonUpdate` DROP `mobile3`, DROP `landline3` ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `mobile1` `phone1` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `landline1` `phone2` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `mobile2` `phone3` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `landline2` `phone4` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonUpdate` ADD `phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT 'Mobile' AFTER `address2Country`, ADD `phone1CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone1Type` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `phone3Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone1`, ADD `phone3CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone3Type` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `phone2Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone3`, ADD `phone2CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone2Type` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `phone4Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) NOT NULL DEFAULT '' AFTER `phone2`, ADD `phone4CountryCode` VARCHAR( 7 ) NOT NULL AFTER `phone4Type` ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `phone1Type` `phone1Type` ENUM( '', 'Mobile', 'Home', 'Work', 'Fax', 'Pager', 'Other' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '';end
ALTER TABLE `gibbonCountry` ADD `iddCountryCode` VARCHAR( 7 ) NOT NULL ;end
UPDATE gibbonPerson SET phone1Type='Other' WHERE NOT phone1='' AND phone1Type='' ;end
UPDATE gibbonPerson SET phone2Type='Other' WHERE NOT phone2='' AND phone2Type='' ;end
UPDATE gibbonPerson SET phone3Type='Other' WHERE NOT phone3='' AND phone3Type='' ;end
UPDATE gibbonPerson SET phone4Type='Other' WHERE NOT phone4='' AND phone4Type='' ;end
UPDATE gibbonPerson SET phone1Type='' WHERE phone1='' AND phone1Type='Mobile' ;end
UPDATE gibbonCountry SET iddCountryCode='93' WHERE printable_name='Afghanistan';end
UPDATE gibbonCountry SET iddCountryCode='355' WHERE printable_name='Albania';end
UPDATE gibbonCountry SET iddCountryCode='213' WHERE printable_name='Algeria';end
UPDATE gibbonCountry SET iddCountryCode='1 684' WHERE printable_name='American Samoa';end
UPDATE gibbonCountry SET iddCountryCode='376' WHERE printable_name='Andorra';end
UPDATE gibbonCountry SET iddCountryCode='244' WHERE printable_name='Angola';end
UPDATE gibbonCountry SET iddCountryCode='1 264' WHERE printable_name='Anguilla';end
UPDATE gibbonCountry SET iddCountryCode='672' WHERE printable_name='Antarctica';end
UPDATE gibbonCountry SET iddCountryCode='1 268' WHERE printable_name='Antigua and Barbuda';end
UPDATE gibbonCountry SET iddCountryCode='54' WHERE printable_name='Argentina';end
UPDATE gibbonCountry SET iddCountryCode='374' WHERE printable_name='Armenia';end
UPDATE gibbonCountry SET iddCountryCode='297' WHERE printable_name='Aruba';end
UPDATE gibbonCountry SET iddCountryCode='61' WHERE printable_name='Australia';end
UPDATE gibbonCountry SET iddCountryCode='43' WHERE printable_name='Austria';end
UPDATE gibbonCountry SET iddCountryCode='994' WHERE printable_name='Azerbaijan';end
UPDATE gibbonCountry SET iddCountryCode='1 242' WHERE printable_name='Bahamas';end
UPDATE gibbonCountry SET iddCountryCode='973' WHERE printable_name='Bahrain';end
UPDATE gibbonCountry SET iddCountryCode='880' WHERE printable_name='Bangladesh';end
UPDATE gibbonCountry SET iddCountryCode='1 246' WHERE printable_name='Barbados';end
UPDATE gibbonCountry SET iddCountryCode='375' WHERE printable_name='Belarus';end
UPDATE gibbonCountry SET iddCountryCode='32' WHERE printable_name='Belgium';end
UPDATE gibbonCountry SET iddCountryCode='501' WHERE printable_name='Belize';end
UPDATE gibbonCountry SET iddCountryCode='229' WHERE printable_name='Benin';end
UPDATE gibbonCountry SET iddCountryCode='1 441' WHERE printable_name='Bermuda';end
UPDATE gibbonCountry SET iddCountryCode='975' WHERE printable_name='Bhutan';end
UPDATE gibbonCountry SET iddCountryCode='591' WHERE printable_name='Bolivia';end
UPDATE gibbonCountry SET iddCountryCode='387' WHERE printable_name='Bosnia and Herzegovina';end
UPDATE gibbonCountry SET iddCountryCode='267' WHERE printable_name='Botswana';end
UPDATE gibbonCountry SET iddCountryCode='55' WHERE printable_name='Brazil';end
UPDATE gibbonCountry SET iddCountryCode='1 284' WHERE printable_name='British Virgin Islands';end
UPDATE gibbonCountry SET iddCountryCode='673' WHERE printable_name='Brunei';end
UPDATE gibbonCountry SET iddCountryCode='359' WHERE printable_name='Bulgaria';end
UPDATE gibbonCountry SET iddCountryCode='226' WHERE printable_name='Burkina Faso';end
UPDATE gibbonCountry SET iddCountryCode='95' WHERE printable_name='Burma (Myanmar)';end
UPDATE gibbonCountry SET iddCountryCode='257' WHERE printable_name='Burundi';end
UPDATE gibbonCountry SET iddCountryCode='855' WHERE printable_name='Cambodia';end
UPDATE gibbonCountry SET iddCountryCode='237' WHERE printable_name='Cameroon';end
UPDATE gibbonCountry SET iddCountryCode='1' WHERE printable_name='Canada';end
UPDATE gibbonCountry SET iddCountryCode='238' WHERE printable_name='Cape Verde';end
UPDATE gibbonCountry SET iddCountryCode='1 345' WHERE printable_name='Cayman Islands';end
UPDATE gibbonCountry SET iddCountryCode='236' WHERE printable_name='Central African Republic';end
UPDATE gibbonCountry SET iddCountryCode='235' WHERE printable_name='Chad';end
UPDATE gibbonCountry SET iddCountryCode='56' WHERE printable_name='Chile';end
UPDATE gibbonCountry SET iddCountryCode='86' WHERE printable_name='China';end
UPDATE gibbonCountry SET iddCountryCode='61' WHERE printable_name='Christmas Island';end
UPDATE gibbonCountry SET iddCountryCode='61' WHERE printable_name='Cocos (Keeling) Islands';end
UPDATE gibbonCountry SET iddCountryCode='57' WHERE printable_name='Colombia';end
UPDATE gibbonCountry SET iddCountryCode='269' WHERE printable_name='Comoros';end
UPDATE gibbonCountry SET iddCountryCode='682' WHERE printable_name='Cook Islands';end
UPDATE gibbonCountry SET iddCountryCode='506' WHERE printable_name='Costa Rica';end
UPDATE gibbonCountry SET iddCountryCode='385' WHERE printable_name='Croatia';end
UPDATE gibbonCountry SET iddCountryCode='53' WHERE printable_name='Cuba';end
UPDATE gibbonCountry SET iddCountryCode='357' WHERE printable_name='Cyprus';end
UPDATE gibbonCountry SET iddCountryCode='420' WHERE printable_name='Czech Republic';end
UPDATE gibbonCountry SET iddCountryCode='243' WHERE printable_name='Democratic Republic of the Congo';end
UPDATE gibbonCountry SET iddCountryCode='45' WHERE printable_name='Denmark';end
UPDATE gibbonCountry SET iddCountryCode='253' WHERE printable_name='Djibouti';end
UPDATE gibbonCountry SET iddCountryCode='1 767' WHERE printable_name='Dominica';end
UPDATE gibbonCountry SET iddCountryCode='1 809' WHERE printable_name='Dominican Republic';end
UPDATE gibbonCountry SET iddCountryCode='593' WHERE printable_name='Ecuador';end
UPDATE gibbonCountry SET iddCountryCode='20' WHERE printable_name='Egypt';end
UPDATE gibbonCountry SET iddCountryCode='503' WHERE printable_name='El Salvador';end
UPDATE gibbonCountry SET iddCountryCode='240' WHERE printable_name='Equatorial Guinea';end
UPDATE gibbonCountry SET iddCountryCode='291' WHERE printable_name='Eritrea';end
UPDATE gibbonCountry SET iddCountryCode='372' WHERE printable_name='Estonia';end
UPDATE gibbonCountry SET iddCountryCode='251' WHERE printable_name='Ethiopia';end
UPDATE gibbonCountry SET iddCountryCode='500' WHERE printable_name='Falkland Islands';end
UPDATE gibbonCountry SET iddCountryCode='298' WHERE printable_name='Faroe Islands';end
UPDATE gibbonCountry SET iddCountryCode='679' WHERE printable_name='Fiji';end
UPDATE gibbonCountry SET iddCountryCode='358' WHERE printable_name='Finland';end
UPDATE gibbonCountry SET iddCountryCode='33' WHERE printable_name='France';end
UPDATE gibbonCountry SET iddCountryCode='689' WHERE printable_name='French Polynesia';end
UPDATE gibbonCountry SET iddCountryCode='241' WHERE printable_name='Gabon';end
UPDATE gibbonCountry SET iddCountryCode='220' WHERE printable_name='Gambia';end
UPDATE gibbonCountry SET iddCountryCode='970' WHERE printable_name='Gaza Strip';end
UPDATE gibbonCountry SET iddCountryCode='995' WHERE printable_name='Georgia';end
UPDATE gibbonCountry SET iddCountryCode='49' WHERE printable_name='Germany';end
UPDATE gibbonCountry SET iddCountryCode='233' WHERE printable_name='Ghana';end
UPDATE gibbonCountry SET iddCountryCode='350' WHERE printable_name='Gibraltar';end
UPDATE gibbonCountry SET iddCountryCode='30' WHERE printable_name='Greece';end
UPDATE gibbonCountry SET iddCountryCode='299' WHERE printable_name='Greenland';end
UPDATE gibbonCountry SET iddCountryCode='1 473' WHERE printable_name='Grenada';end
UPDATE gibbonCountry SET iddCountryCode='1 671' WHERE printable_name='Guam';end
UPDATE gibbonCountry SET iddCountryCode='502' WHERE printable_name='Guatemala';end
UPDATE gibbonCountry SET iddCountryCode='224' WHERE printable_name='Guinea';end
UPDATE gibbonCountry SET iddCountryCode='245' WHERE printable_name='Guinea-Bissau';end
UPDATE gibbonCountry SET iddCountryCode='592' WHERE printable_name='Guyana';end
UPDATE gibbonCountry SET iddCountryCode='509' WHERE printable_name='Haiti';end
UPDATE gibbonCountry SET iddCountryCode='39' WHERE printable_name='Holy See (Vatican City)';end
UPDATE gibbonCountry SET iddCountryCode='504' WHERE printable_name='Honduras';end
UPDATE gibbonCountry SET iddCountryCode='852' WHERE printable_name='Hong Kong';end
UPDATE gibbonCountry SET iddCountryCode='36' WHERE printable_name='Hungary';end
UPDATE gibbonCountry SET iddCountryCode='354' WHERE printable_name='Iceland';end
UPDATE gibbonCountry SET iddCountryCode='91' WHERE printable_name='India';end
UPDATE gibbonCountry SET iddCountryCode='62' WHERE printable_name='Indonesia';end
UPDATE gibbonCountry SET iddCountryCode='98' WHERE printable_name='Iran';end
UPDATE gibbonCountry SET iddCountryCode='964' WHERE printable_name='Iraq';end
UPDATE gibbonCountry SET iddCountryCode='353' WHERE printable_name='Ireland';end
UPDATE gibbonCountry SET iddCountryCode='44' WHERE printable_name='Isle of Man';end
UPDATE gibbonCountry SET iddCountryCode='972' WHERE printable_name='Israel';end
UPDATE gibbonCountry SET iddCountryCode='39' WHERE printable_name='Italy';end
UPDATE gibbonCountry SET iddCountryCode='225' WHERE printable_name='Ivory Coast';end
UPDATE gibbonCountry SET iddCountryCode='1 876' WHERE printable_name='Jamaica';end
UPDATE gibbonCountry SET iddCountryCode='81' WHERE printable_name='Japan';end
UPDATE gibbonCountry SET iddCountryCode='962' WHERE printable_name='Jordan';end
UPDATE gibbonCountry SET iddCountryCode='7' WHERE printable_name='Kazakhstan';end
UPDATE gibbonCountry SET iddCountryCode='254' WHERE printable_name='Kenya';end
UPDATE gibbonCountry SET iddCountryCode='686' WHERE printable_name='Kiribati';end
UPDATE gibbonCountry SET iddCountryCode='381' WHERE printable_name='Kosovo';end
UPDATE gibbonCountry SET iddCountryCode='965' WHERE printable_name='Kuwait';end
UPDATE gibbonCountry SET iddCountryCode='996' WHERE printable_name='Kyrgyzstan';end
UPDATE gibbonCountry SET iddCountryCode='856' WHERE printable_name='Laos';end
UPDATE gibbonCountry SET iddCountryCode='371' WHERE printable_name='Latvia';end
UPDATE gibbonCountry SET iddCountryCode='961' WHERE printable_name='Lebanon';end
UPDATE gibbonCountry SET iddCountryCode='266' WHERE printable_name='Lesotho';end
UPDATE gibbonCountry SET iddCountryCode='231' WHERE printable_name='Liberia';end
UPDATE gibbonCountry SET iddCountryCode='218' WHERE printable_name='Libya';end
UPDATE gibbonCountry SET iddCountryCode='423' WHERE printable_name='Liechtenstein';end
UPDATE gibbonCountry SET iddCountryCode='370' WHERE printable_name='Lithuania';end
UPDATE gibbonCountry SET iddCountryCode='352' WHERE printable_name='Luxembourg';end
UPDATE gibbonCountry SET iddCountryCode='853' WHERE printable_name='Macau';end
UPDATE gibbonCountry SET iddCountryCode='389' WHERE printable_name='Macedonia';end
UPDATE gibbonCountry SET iddCountryCode='261' WHERE printable_name='Madagascar';end
UPDATE gibbonCountry SET iddCountryCode='265' WHERE printable_name='Malawi';end
UPDATE gibbonCountry SET iddCountryCode='60' WHERE printable_name='Malaysia';end
UPDATE gibbonCountry SET iddCountryCode='960' WHERE printable_name='Maldives';end
UPDATE gibbonCountry SET iddCountryCode='223' WHERE printable_name='Mali';end
UPDATE gibbonCountry SET iddCountryCode='356' WHERE printable_name='Malta';end
UPDATE gibbonCountry SET iddCountryCode='692' WHERE printable_name='Marshall Islands';end
UPDATE gibbonCountry SET iddCountryCode='222' WHERE printable_name='Mauritania';end
UPDATE gibbonCountry SET iddCountryCode='230' WHERE printable_name='Mauritius';end
UPDATE gibbonCountry SET iddCountryCode='262' WHERE printable_name='Mayotte';end
UPDATE gibbonCountry SET iddCountryCode='52' WHERE printable_name='Mexico';end
UPDATE gibbonCountry SET iddCountryCode='691' WHERE printable_name='Micronesia';end
UPDATE gibbonCountry SET iddCountryCode='373' WHERE printable_name='Moldova';end
UPDATE gibbonCountry SET iddCountryCode='377' WHERE printable_name='Monaco';end
UPDATE gibbonCountry SET iddCountryCode='976' WHERE printable_name='Mongolia';end
UPDATE gibbonCountry SET iddCountryCode='382' WHERE printable_name='Montenegro';end
UPDATE gibbonCountry SET iddCountryCode='1 664' WHERE printable_name='Montserrat';end
UPDATE gibbonCountry SET iddCountryCode='212' WHERE printable_name='Morocco';end
UPDATE gibbonCountry SET iddCountryCode='258' WHERE printable_name='Mozambique';end
UPDATE gibbonCountry SET iddCountryCode='264' WHERE printable_name='Namibia';end
UPDATE gibbonCountry SET iddCountryCode='674' WHERE printable_name='Nauru';end
UPDATE gibbonCountry SET iddCountryCode='977' WHERE printable_name='Nepal';end
UPDATE gibbonCountry SET iddCountryCode='31' WHERE printable_name='Netherlands';end
UPDATE gibbonCountry SET iddCountryCode='599' WHERE printable_name='Netherlands Antilles';end
UPDATE gibbonCountry SET iddCountryCode='687' WHERE printable_name='New Caledonia';end
UPDATE gibbonCountry SET iddCountryCode='64' WHERE printable_name='New Zealand';end
UPDATE gibbonCountry SET iddCountryCode='505' WHERE printable_name='Nicaragua';end
UPDATE gibbonCountry SET iddCountryCode='227' WHERE printable_name='Niger';end
UPDATE gibbonCountry SET iddCountryCode='234' WHERE printable_name='Nigeria';end
UPDATE gibbonCountry SET iddCountryCode='683' WHERE printable_name='Niue';end
UPDATE gibbonCountry SET iddCountryCode='672' WHERE printable_name='Norfolk Island';end
UPDATE gibbonCountry SET iddCountryCode='850' WHERE printable_name='North Korea';end
UPDATE gibbonCountry SET iddCountryCode='1 670' WHERE printable_name='Northern Mariana Islands';end
UPDATE gibbonCountry SET iddCountryCode='47' WHERE printable_name='Norway';end
UPDATE gibbonCountry SET iddCountryCode='968' WHERE printable_name='Oman';end
UPDATE gibbonCountry SET iddCountryCode='92' WHERE printable_name='Pakistan';end
UPDATE gibbonCountry SET iddCountryCode='680' WHERE printable_name='Palau';end
UPDATE gibbonCountry SET iddCountryCode='507' WHERE printable_name='Panama';end
UPDATE gibbonCountry SET iddCountryCode='675' WHERE printable_name='Papua New Guinea';end
UPDATE gibbonCountry SET iddCountryCode='595' WHERE printable_name='Paraguay';end
UPDATE gibbonCountry SET iddCountryCode='51' WHERE printable_name='Peru';end
UPDATE gibbonCountry SET iddCountryCode='63' WHERE printable_name='Philippines';end
UPDATE gibbonCountry SET iddCountryCode='870' WHERE printable_name='Pitcairn Islands';end
UPDATE gibbonCountry SET iddCountryCode='48' WHERE printable_name='Poland';end
UPDATE gibbonCountry SET iddCountryCode='351' WHERE printable_name='Portugal';end
UPDATE gibbonCountry SET iddCountryCode='1' WHERE printable_name='Puerto Rico';end
UPDATE gibbonCountry SET iddCountryCode='974' WHERE printable_name='Qatar';end
UPDATE gibbonCountry SET iddCountryCode='242' WHERE printable_name='Republic of the Congo';end
UPDATE gibbonCountry SET iddCountryCode='40' WHERE printable_name='Romania';end
UPDATE gibbonCountry SET iddCountryCode='7' WHERE printable_name='Russia';end
UPDATE gibbonCountry SET iddCountryCode='250' WHERE printable_name='Rwanda';end
UPDATE gibbonCountry SET iddCountryCode='590' WHERE printable_name='Saint Barthelemy';end
UPDATE gibbonCountry SET iddCountryCode='290' WHERE printable_name='Saint Helena';end
UPDATE gibbonCountry SET iddCountryCode='1 869' WHERE printable_name='Saint Kitts and Nevis';end
UPDATE gibbonCountry SET iddCountryCode='1 758' WHERE printable_name='Saint Lucia';end
UPDATE gibbonCountry SET iddCountryCode='1 599' WHERE printable_name='Saint Martin';end
UPDATE gibbonCountry SET iddCountryCode='508' WHERE printable_name='Saint Pierre and Miquelon';end
UPDATE gibbonCountry SET iddCountryCode='1 784' WHERE printable_name='Saint Vincent and the Grenadines';end
UPDATE gibbonCountry SET iddCountryCode='685' WHERE printable_name='Samoa';end
UPDATE gibbonCountry SET iddCountryCode='378' WHERE printable_name='San Marino';end
UPDATE gibbonCountry SET iddCountryCode='239' WHERE printable_name='Sao Tome and Principe';end
UPDATE gibbonCountry SET iddCountryCode='966' WHERE printable_name='Saudi Arabia';end
UPDATE gibbonCountry SET iddCountryCode='221' WHERE printable_name='Senegal';end
UPDATE gibbonCountry SET iddCountryCode='381' WHERE printable_name='Serbia';end
UPDATE gibbonCountry SET iddCountryCode='248' WHERE printable_name='Seychelles';end
UPDATE gibbonCountry SET iddCountryCode='232' WHERE printable_name='Sierra Leone';end
UPDATE gibbonCountry SET iddCountryCode='65' WHERE printable_name='Singapore';end
UPDATE gibbonCountry SET iddCountryCode='421' WHERE printable_name='Slovakia';end
UPDATE gibbonCountry SET iddCountryCode='386' WHERE printable_name='Slovenia';end
UPDATE gibbonCountry SET iddCountryCode='677' WHERE printable_name='Solomon Islands';end
UPDATE gibbonCountry SET iddCountryCode='252' WHERE printable_name='Somalia';end
UPDATE gibbonCountry SET iddCountryCode='27' WHERE printable_name='South Africa';end
UPDATE gibbonCountry SET iddCountryCode='82' WHERE printable_name='South Korea';end
UPDATE gibbonCountry SET iddCountryCode='34' WHERE printable_name='Spain';end
UPDATE gibbonCountry SET iddCountryCode='94' WHERE printable_name='Sri Lanka';end
UPDATE gibbonCountry SET iddCountryCode='249' WHERE printable_name='Sudan';end
UPDATE gibbonCountry SET iddCountryCode='597' WHERE printable_name='Suriname';end
UPDATE gibbonCountry SET iddCountryCode='268' WHERE printable_name='Swaziland';end
UPDATE gibbonCountry SET iddCountryCode='46' WHERE printable_name='Sweden';end
UPDATE gibbonCountry SET iddCountryCode='41' WHERE printable_name='Switzerland';end
UPDATE gibbonCountry SET iddCountryCode='963' WHERE printable_name='Syria';end
UPDATE gibbonCountry SET iddCountryCode='886' WHERE printable_name='Taiwan';end
UPDATE gibbonCountry SET iddCountryCode='992' WHERE printable_name='Tajikistan';end
UPDATE gibbonCountry SET iddCountryCode='255' WHERE printable_name='Tanzania';end
UPDATE gibbonCountry SET iddCountryCode='66' WHERE printable_name='Thailand';end
UPDATE gibbonCountry SET iddCountryCode='670' WHERE printable_name='Timor-Leste';end
UPDATE gibbonCountry SET iddCountryCode='228' WHERE printable_name='Togo';end
UPDATE gibbonCountry SET iddCountryCode='690' WHERE printable_name='Tokelau';end
UPDATE gibbonCountry SET iddCountryCode='676' WHERE printable_name='Tonga';end
UPDATE gibbonCountry SET iddCountryCode='1 868' WHERE printable_name='Trinidad and Tobago';end
UPDATE gibbonCountry SET iddCountryCode='216' WHERE printable_name='Tunisia';end
UPDATE gibbonCountry SET iddCountryCode='90' WHERE printable_name='Turkey';end
UPDATE gibbonCountry SET iddCountryCode='993' WHERE printable_name='Turkmenistan';end
UPDATE gibbonCountry SET iddCountryCode='1 649' WHERE printable_name='Turks and Caicos Islands';end
UPDATE gibbonCountry SET iddCountryCode='688' WHERE printable_name='Tuvalu';end
UPDATE gibbonCountry SET iddCountryCode='256' WHERE printable_name='Uganda';end
UPDATE gibbonCountry SET iddCountryCode='380' WHERE printable_name='Ukraine';end
UPDATE gibbonCountry SET iddCountryCode='971' WHERE printable_name='United Arab Emirates';end
UPDATE gibbonCountry SET iddCountryCode='44' WHERE printable_name='United Kingdom';end
UPDATE gibbonCountry SET iddCountryCode='1' WHERE printable_name='United States';end
UPDATE gibbonCountry SET iddCountryCode='598' WHERE printable_name='Uruguay';end
UPDATE gibbonCountry SET iddCountryCode='1 340' WHERE printable_name='US Virgin Islands';end
UPDATE gibbonCountry SET iddCountryCode='998' WHERE printable_name='Uzbekistan';end
UPDATE gibbonCountry SET iddCountryCode='678' WHERE printable_name='Vanuatu';end
UPDATE gibbonCountry SET iddCountryCode='58' WHERE printable_name='Venezuela';end
UPDATE gibbonCountry SET iddCountryCode='84' WHERE printable_name='Vietnam';end
UPDATE gibbonCountry SET iddCountryCode='681' WHERE printable_name='Wallis and Futuna';end
UPDATE gibbonCountry SET iddCountryCode='970' WHERE printable_name='West Bank';end
UPDATE gibbonCountry SET iddCountryCode='967' WHERE printable_name='Yemen';end
UPDATE gibbonCountry SET iddCountryCode='260' WHERE printable_name='Zambia';end
UPDATE gibbonCountry SET iddCountryCode='263' WHERE printable_name='Zimbabwe';end
ALTER TABLE `gibbonPerson` CHANGE `homeLanguage` `languageFirst` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` ADD `languageSecond` VARCHAR( 30 ) NOT NULL AFTER `languageFirst`, ADD `languageThird` VARCHAR( 30 ) NOT NULL AFTER `languageSecond` ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `homeLanguage` `languageFirst` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonUpdate` ADD `languageSecond` VARCHAR( 30 ) NOT NULL AFTER `languageFirst`, ADD `languageThird` VARCHAR( 30 ) NOT NULL AFTER `languageSecond` ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `homeLanguage1` `languageFirst` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `homeLanguage2` `languageSecond` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `homeLanguage3` `languageThird` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` DROP `homeLanguage4` ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1homeLanguage1` `parent1languageFirst` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `parent1homeLanguage2` `parent1languageSecond` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `parent2homeLanguage1` `parent2languageFirst` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `parent2homeLanguage2` `parent2languageSecond` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` ADD `languageHome` VARCHAR( 30 ) NOT NULL AFTER `siblingSchoolJoiningDate3` ;end
ALTER TABLE `gibbonFamily` ADD `languageHome` VARCHAR( 30 ) NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` ADD `gibbonRollGroupID` INT( 5 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'System', 'passwordPolicyAlpha', 'Alpha Requirement', 'Require both upper and lower case alpha characters?', 'Y'), (NULL, 'System', 'passwordPolicyNumeric', 'Numeric Requirement', 'Require at least one numeric character?', 'Y'), (NULL, 'System', 'passwordPolicyNonAlphaNumeric', 'Non-Alphanumeric Requirement', 'Require at least one non-alphanumeric character (e.g. punctuation mark or space)?', 'N'), (NULL, 'System', 'passwordPolicyMinLength', 'Minimum Length', 'Minimum acceptable password length.', '8');end
ALTER TABLE `gibbonPerson` ADD `passwordForceReset` ENUM( 'N', 'Y' ) NOT NULL DEFAULT 'N' COMMENT 'Force user to reset password on next login.' AFTER `passwordStrongSalt` ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Library'), 'View Overdue Items', 0, 'Reports', 'View items which are on loan and have exceeded their due date.', 'report_viewOverdueItems.php', 'report_viewOverdueItems.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='View Overdue Items'));end
UPDATE gibbonAction SET category='Catalog' WHERE name='Browse The Library' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Library');end
UPDATE gibbonAction SET category='Catalog' WHERE name='Lending & Activity Log' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Library');end
UPDATE gibbonAction SET category='Catalog' WHERE name='Manage Catalog' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Library');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Library'), 'Student Borrowing Record', 0, 'Reports', 'View items borrowed by an individual student.', 'report_studentBorrowingRecord.php', 'report_studentBorrowingRecord.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Student Borrowing Record'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Student Borrowing Record'));end
ALTER TABLE `gibbonLibraryItemEvent` ADD `type` ENUM( 'Decommission', 'Loss', 'Loan', 'Repair', 'Reserve', 'Other' ) NOT NULL DEFAULT 'Other' COMMENT 'This is maintained even after the item is returned, so we know what type of event it was.' AFTER `gibbonLibraryItemID` ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Manage User Settings', 0, 'User Management', 'Configure settings relating to user management.', 'userSettings.php', 'userSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Manage User Settings'));end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('User Admin', 'ethnicity', 'Ethnicity', 'Comma-separated list of ethnicities available in system', 'Arctic,Caucasian - European,Caucasian - Indian,Caucasian - Middle East,Caucasian - North African,Caucasian - Other,Indigenous Australian,Native American,North East Asian,Pacific,South East Asian,West African/Bushmen/Ethiopian,Eurasian,Other');end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('User Admin', 'nationality', 'Nationality', 'Comma-separated list of nationalities available in system. If blank, system will default to list of countries', '');end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('User Admin', 'residencyStatus', 'Residency Status', 'Comma-separated list of residency status available in system. If blank, system will allow text input', '');end
ALTER TABLE `gibbonPerson` CHANGE `visaType` `residencyStatus` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `visaType` `residencyStatus` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `parent1visaType` `parent1residencyStatus` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `parent2visaType` `parent2residencyStatus` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPerson` CHANGE `citizenship1` `citizenship1` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `citizenship2` `citizenship2` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `citizenship1` `citizenship1` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `citizenship2` `citizenship2` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `citizenship1` `citizenship1` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `parent1citizenship1` `parent1citizenship1` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `parent2citizenship1` `parent2citizenship1` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'Family Address by Student', 0, 'Reports', 'View family addresses by student', 'report_familyAddress_byStudent.php', 'report_familyAddress_byStudent.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='Family Address by Student'));end
ALTER TABLE `gibbonSetting` CHANGE `name` `name` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `nameDisplay` `nameDisplay` VARCHAR( 60 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('User Admin', 'personalDataUpdaterRequiredFields', 'Personal Data Updater Required Fields', 'Serialized array listed personal fields in data updater, and whether or not they are required.', 'a:44:{s:5:\"title\";s:1:\"N\";s:7:\"surname\";s:1:\"Y\";s:9:\"firstName\";s:1:\"N\";s:10:\"otherNames\";s:1:\"N\";s:13:\"preferredName\";s:1:\"Y\";s:12:\"officialName\";s:1:\"Y\";s:16:\"nameInCharacters\";s:1:\"N\";s:5:\"email\";s:1:\"N\";s:14:\"emailAlternate\";s:1:\"N\";s:8:\"address1\";s:1:\"N\";s:16:\"address1District\";s:1:\"N\";s:15:\"address1Country\";s:1:\"N\";s:8:\"address2\";s:1:\"N\";s:16:\"address2District\";s:1:\"N\";s:15:\"address2Country\";s:1:\"N\";s:10:\"phone1Type\";s:1:\"N\";s:17:\"phone1CountryCode\";s:1:\"N\";s:6:\"phone1\";s:1:\"N\";s:6:\"phone2\";s:1:\"N\";s:6:\"phone3\";s:1:\"N\";s:6:\"phone4\";s:1:\"N\";s:13:\"languageFirst\";s:1:\"N\";s:14:\"languageSecond\";s:1:\"N\";s:13:\"languageThird\";s:1:\"N\";s:14:\"countryOfBirth\";s:1:\"N\";s:9:\"ethnicity\";s:1:\"N\";s:12:\"citizenship1\";s:1:\"N\";s:20:\"citizenship1Passport\";s:1:\"N\";s:12:\"citizenship2\";s:1:\"N\";s:20:\"citizenship2Passport\";s:1:\"N\";s:8:\"religion\";s:1:\"N\";s:21:\"nationalIDCardCountry\";s:1:\"N\";s:20:\"nationalIDCardNumber\";s:1:\"N\";s:10:\"profession\";s:1:\"N\";s:8:\"employer\";s:1:\"N\";s:8:\"jobTitle\";s:1:\"N\";s:14:\"emergency1Name\";s:1:\"N\";s:17:\"emergency1Number1\";s:1:\"N\";s:17:\"emergency1Number2\";s:1:\"N\";s:22:\"emergency1Relationship\";s:1:\"N\";s:14:\"emergency2Name\";s:1:\"N\";s:17:\"emergency2Number1\";s:1:\"N\";s:17:\"emergency2Number2\";s:1:\"N\";s:22:\"emergency2Relationship\";s:1:\"N\";}');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Data Updater Settings', 0, 'Data Updater', 'Configure options for the Data Updater module', 'dataUpdaterSettings.php', 'dataUpdaterSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Data Updater Settings'));end
ALTER TABLE `gibbonPersonUpdate` ADD `dob` DATE NULL DEFAULT NULL AFTER `nameInCharacters` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `residencyStatus` varchar(255) NOT NULL AFTER nationalIDCardNumber ;end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('School Admin', 'primaryExternalAssessmentByYearGroup', 'Primary External Assessment By Year Group', 'Serialized array connected gibbonExternalAssessmentID to gibbonYearGroupID, and specify which field set to use.', '');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'External Assessment Settings', 0, 'ARR', 'Configure External Assessment module options', 'externalAssessmentSettings.php', 'externalAssessmentSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='External Assessment Settings'));end
ALTER TABLE `gibbonMarkbookColumn` CHANGE `type` `type` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('Markbook', 'markbookType', 'Markbook Type', 'Comma-separated list of types to make available in the Markbook.', 'Essay,Exam,Homework,Reflection,Test,Unit,End of Year,Other');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Markbook Settings', 0, 'ARR', 'Configure options for the Markbook module', 'markbookSettings.php', 'markbookSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Markbook Settings'));end
ALTER TABLE `gibbonRubricEntry` CHANGE `contextDBTableID` `contextDBTableID` INT( 20 ) UNSIGNED ZEROFILL NOT NULL ;end
UPDATE gibbonAction SET URLList='units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_copyback.php, units_edit_working_add.php, units_edit_copyback.php, units_dump.php' WHERE name='Manage Units_learningAreas' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
UPDATE gibbonAction SET URLList='units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_copyback.php, units_edit_working_add.php, units_edit_copyback.php, units_dump.php' WHERE name='Manage Units_all' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
ALTER TABLE  `gibbonPerson` ADD  `gibbonSchoolYearIDClassOf` INT( 3 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER  `dateEnd` ;end
UPDATE gibbonAction SET URLList='planner.php, planner_view_full.php, planner_add.php, planner_edit.php, planner_delete.php, planner_deadlines.php, planner_duplicate.php, planner_view_full_post.php, planner_view_full_submit_edit.php, planner_bump.php' WHERE name='Lesson Planner_viewAllEditMyClasses' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
UPDATE gibbonAction SET URLList='planner.php, planner_view_full.php, planner_add.php, planner_edit.php, planner_delete.php, planner_deadlines.php, planner_duplicate.php, planner_view_full_post.php, planner_view_full_submit_edit.php, planner_bump.php' WHERE name='Lesson Planner_viewEditAllClasses' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
UPDATE gibbonAction SET URLList='units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_copyback.php, units_edit_working_add.php, units_edit_copyBack.php, units_edit_copyForward.php, units_dump.php' WHERE name='Manage Units_learningAreas' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
UPDATE gibbonAction SET URLList='units.php, units_add.php, units_delete.php, units_edit.php, units_duplicate.php, units_edit_deploy.php, units_edit_working.php, units_edit_working_copyback.php, units_edit_working_add.php, units_edit_copyBack.php, units_edit_copyForward.php, units_dump.php' WHERE name='Manage Units_all' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
INSERT INTO `gibbonSetting` (`scope`, `name`, `nameDisplay`, `description`, `value`) VALUES ('System', 'allowableHTML', 'Allowable HTML', 'TinyMCE-style list of acceptable HTML tags and options.', 'article[*],aside[*],audio[*],canvas[*],command[*],datalist[*],details[*],embed[*],figcaption[*],figure[*],footer[*],header[*],hgroup[*],iframe[*],keygen[*],mark[*],meter[*],nav[*],object[*],output[*],param[*],progress[*],script[*],section[*],source[*],summary,time[*],video[*],wbr');end
ALTER TABLE `gibbonStaff` ADD `smartWorkflowHelp` ENUM( 'N', 'Y' ) NOT NULL DEFAULT 'N' ;end
UPDATE gibbonStaff SET smartWorkflowHelp='Y' WHERE type='Teaching' ;end
";

//v6.0.00
$count++ ;
$sql[$count][0]="6.0.00" ;
$sql[$count][1]="
ALTER TABLE `gibbonLibraryItem` CHANGE `status` `status` ENUM( 'Available', 'In Use', 'Decommissioned', 'Lost', 'On Loan', 'Repair', 'Reserved' ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Available' COMMENT 'The current status of the item.' ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Activities'), 'View Activities_studentRegisterByParent', 2, 'Actions', 'Allows parents to register their children for activities', 'activities_view.php, activities_view_full.php, activities_view_register.php', 'activities_view.php', 'N', 'N', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Activities' AND gibbonAction.name='View Activities_studentRegisterByParent'));end
ALTER TABLE `gibbonOutcome` CHANGE `name` `name` VARCHAR( 100 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonOutcome` CHANGE `nameShort` `nameShort` VARCHAR( 14 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonStaff` ADD `firstAidQualified` ENUM( '', 'N', 'Y' ) NOT NULL DEFAULT '' ;end
ALTER TABLE `gibbonStaff` ADD `firstAidExpiry` DATE NULL DEFAULT NULL ;end
UPDATE gibbonAction SET URLList='library_lending.php, library_lending_item.php,library_lending_item_signout.php,library_lending_item_return.php,library_lending_item_edit.php,library_lending_item_renew.php' WHERE name='Lending & Activity Log' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Library');end
UPDATE `gibbonSetting` SET `value`='Citizen,Resident,Student,Other ' WHERE `gibbonSetting`.`gibbonSystemSettingsID` =00061;end
ALTER TABLE `gibbonApplicationForm` DROP `nationalIDCardCountry`, DROP `parent1nationalIDCardCountry`, DROP `parent2nationalIDCardCountry` ;end
ALTER TABLE `gibbonApplicationForm` ADD `visaExpiryDate` DATE NULL DEFAULT NULL AFTER `residencyStatus` ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent1visaExpiryDate` DATE NULL DEFAULT NULL AFTER `parent1residencyStatus` ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent2visaExpiryDate` DATE NULL DEFAULT NULL AFTER `parent2residencyStatus` ;end
ALTER TABLE `gibbonPerson` DROP `nationalIDCardCountry`;end
ALTER TABLE `gibbonPerson` ADD `visaExpiryDate` DATE NULL DEFAULT NULL AFTER `residencyStatus` ;end
ALTER TABLE `gibbonPersonUpdate` ADD `visaExpiryDate` DATE NULL DEFAULT NULL AFTER `residencyStatus` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'howDidYouHear', 'How Did Your Hear?', 'Comma-separated list of sources where people might have heard about the school from.', 'Advertisement,Personal Recommendation,World Wide Web,Others');end
ALTER TABLE `gibbonApplicationForm` ADD `howDidYouHear` VARCHAR( 255 ) NULL DEFAULT NULL ,ADD `howDidYouHearMore` VARCHAR( 255 ) NULL DEFAULT NULL;end
CREATE VIEW moodleUser AS SELECT username, preferredName, surname, email, website FROM gibbonPerson WHERE status='Full';end
CREATE VIEW moodleCourse AS SELECT * FROM `gibbonCourse` WHERE gibbonSchoolYearID=(SELECT gibbonSchoolYearID FROM gibbonSchoolYear Where status='Current');end
CREATE VIEW moodleEnrolment AS SELECT DISTINCT gibbonCourse.gibbonCourseID, gibbonCourse.name, username, role FROM gibbonCourse JOIN gibbonCourseClass ON (gibbonCourseClass.gibbonCourseID=gibbonCourse.gibbonCourseID) JOIN gibbonCourseClassPerson ON (gibbonCourseClassPerson.gibbonCourseClassID=gibbonCourseClass.gibbonCourseClassID) JOIN gibbonPerson ON (gibbonCourseClassPerson.gibbonPersonID=gibbonPerson.gibbonPersonID) WHERE status='Full' AND  gibbonSchoolYearID=(SELECT gibbonSchoolYearID FROM gibbonSchoolYear Where status='Current');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage Students Settings', 0, 'People', 'Manage settings for the Student module', 'studentsSettings.php', 'studentsSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage Students Settings'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Students', 'noteCategories', 'Note Categories', 'Comma-separated list of categories to be available for organising notes.', 'Academic,Behaviour,Family,Medical,Pastoral,Other');end
CREATE TABLE `gibbonStudentNote` (  `gibbonStudentNoteID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonPersonID` int(10) unsigned zerofill NOT NULL,  `category` varchar(255) NOT NULL,  `note` text NOT NULL,  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestamp` timestamp NULL DEFAULT NULL,  PRIMARY KEY (`gibbonStudentNoteID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8;end
UPDATE gibbonAction SET URLList='student_view.php,student_view_details.php,student_view_details_notes_add.php,student_view_details_notes_edit.php,student_view_details_notes_delete.php' WHERE name='View Student Profile_full' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Students');end
DELETE FROM gibbonAction WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Message Wall') ;end
DELETE FROM gibbonModule WHERE name='Message Wall';end
UPDATE gibbonModule SET name='Messenger', category='Other', description='Unified messenger for email, message wall and more.', entryURL='messenger_manage.php' WHERE name='Mass Mailer';end
UPDATE gibbonAction SET URLList='messenger_post.php', entryURL='messenger_post.php' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger') AND URLList='massMailer_post.php' AND entryURL='massMailer_post.php' ;end
UPDATE gibbonAction SET URLList='messenger_manage.php,messenger_manage_delete.php,messenger_manage_edit.php', entryURL='messenger_manage.php' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger') AND URLList='massMailer_manage.php,massMailer_manage_delete.php' AND entryURL='massMailer_manage.php' ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger'), 'New Message_byEmail', 0, '', 'Send messages by email.', 'messenger_post.php', 'messenger_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='New Message_byEmail'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='New Message_byEmail'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger'), 'New Message_byMessageWall', 0, '', 'Send messages by message wall.', 'messenger_post.php', 'messenger_post.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='New Message_byMessageWall'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='New Message_byMessageWall'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger'), 'New Message_bySMS', 0, '', 'Send messages by SMS.', 'messenger_post.php', 'messenger_post.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='New Message_bySMS'));end
ALTER TABLE `gibbonMassMailerMail` ADD `email` ENUM( 'N', 'Y' ) NOT NULL DEFAULT 'N' AFTER `gibbonMassMailerMailID` ,ADD `messageWall` ENUM( 'N', 'Y' ) NOT NULL DEFAULT 'N' AFTER `email` ,ADD `sms` ENUM( 'N', 'Y' ) NOT NULL DEFAULT 'N' AFTER `messageWall` ;end
UPDATE gibbonMassMailerMail SET email='Y';end
ALTER TABLE `gibbonMassMailerMail` ADD `messageWall_date1` DATE NULL DEFAULT NULL AFTER `messageWall` ,ADD `messageWall_date2` DATE NULL DEFAULT NULL AFTER `messageWall_date1` ,ADD `messageWall_date3` DATE NULL DEFAULT NULL AFTER `messageWall_date2` ;end
DROP TABLE `gibbonMessageWallPost`, `gibbonMessageWallPostTarget`;end
RENAME TABLE `gibbonMassMailerMail` TO `gibbonMessenger`;end
RENAME TABLE `gibbonMassMailerMailTarget` TO `gibbonMessengerTarget`;end
ALTER TABLE `gibbonMessenger` CHANGE `gibbonMassMailerMailID` `gibbonMessengerID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT ;end
ALTER TABLE `gibbonMessengerTarget` CHANGE `gibbonMassMailerMailTargetID` `gibbonMessengerTargetID` INT( 14 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT ,CHANGE `gibbonMassMailerMailID` `gibbonMessengerID` INT( 12 ) UNSIGNED ZEROFILL NOT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger'), 'View Message Wall', 0, '', 'Allows users to view all messages posted on their message wall.', 'messageWall_view.php,messageWall_view_full.php', 'messageWall_view.php', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'Y', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='View Message Wall'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='View Message Wall'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '3', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='View Message Wall'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='View Message Wall'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '5', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Messenger' AND gibbonAction.name='View Message Wall'));end
UPDATE gibbonAction SET categoryPermissionParent='Y' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Messenger');end
UPDATE gibbonAction SET category='Other' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin') AND name='Manage Spaces';end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage SMS Settings', 0, 'Other', 'Manage gateway settings for outgoing SMS messages.', 'smsSettings.php', 'smsSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage SMS Settings'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Messenger', 'smsUsername', 'SMS Username', 'SMS gateway username.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Messenger', 'smsPassword', 'SMS Password', 'SMS gateway password.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Messenger', 'smsURL', 'SMS URL', 'SMS gateway URL for send requests.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Messenger', 'smsURLCredit', 'SMS URL Credit', 'SMS gateway URL for checking credit.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'System', 'currency', 'Currency', 'System-wde currency for financial transactions.', 'USD $');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'System', 'enablePayments', 'Enable Payments', 'Should payments be enabled across the system?', 'N');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'System', 'paypalAPIUsername', 'PayPal API Username', 'API Username provided by PayPal.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'System', 'paypalAPIPassword', 'PayPal API Password', 'API Password provided by PayPal.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'System', 'paypalAPISignature', 'PayPal API Signature', 'API Signature provided by PayPal.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'applicationFee', 'Application Fee', 'The cost of applying to the school.', '0');end
ALTER TABLE `gibbonApplicationForm` ADD `paymentMade` ENUM( 'N', 'Y','Exemption' ) NOT NULL DEFAULT 'N',ADD `paypalPaymentToken` VARCHAR( 50 ) NOT NULL ,ADD `paypalPaymentPayerID` VARCHAR( 50 ) NOT NULL ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'requiredDocuments', 'Required Documents', 'Comma-separated list of documents which must be submitted electronically with the application form.', '');end
CREATE TABLE `gibbonApplicationFormFile` ( `gibbonApplicationFormFileID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT, `gibbonApplicationFormID` int(12) unsigned zerofill NOT NULL, `name` varchar(255) NOT NULL, `path` varchar(255) NOT NULL, PRIMARY KEY (`gibbonApplicationFormFileID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'requiredDocumentsCompulsory', 'Required Documents Compulsory?', 'Are the required documents compulsory?', 'N');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'requiredDocumentsText', 'Required Documents Text', 'Explanatory text to appear with the required documents?', '');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Library'), 'Catalog Summary', 0, 'Reports', 'Provides an summary overview of items in the catalog.', 'report_catalogSummary.php', 'report_catalogSummary.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Library' AND gibbonAction.name='Catalog Summary'));end
DROP VIEW moodleUser;end
CREATE VIEW moodleUser AS SELECT username, preferredName, surname, email, website FROM gibbonPerson JOIN gibbonRole ON (gibbonRole.gibbonRoleID=gibbonPerson.gibbonRoleIDPrimary) WHERE (category='Student' OR category='Staff') AND status='Full';end
CREATE TABLE `gibbonFamilyRelationship` (  `gibbonFamilyRelationshipID` int(9) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonFamilyID` int(7) unsigned zerofill NOT NULL,  `gibbonPersonID1` int(10) unsigned zerofill NOT NULL,  `gibbonPersonID2` int(10) unsigned zerofill NOT NULL,  `relationship` varchar(50) NOT NULL,  PRIMARY KEY (`gibbonFamilyRelationshipID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Person 1 is [relationship] to person 2?' ;end
ALTER TABLE gibbonFamilyChild DROP COLUMN role;end 
ALTER TABLE gibbonFamilyAdult DROP COLUMN role;end 
ALTER TABLE `gibbonApplicationForm` ADD `parent1relationship` VARCHAR( 50 ) NOT NULL AFTER `parent1gender` ;end
ALTER TABLE `gibbonApplicationForm` ADD `parent2relationship` VARCHAR( 50 ) NOT NULL AFTER `parent2gender` ;end
CREATE TABLE `gibbonApplicationFormRelationship` (  `gibbonApplicationFormRelationshipID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonApplicationFormID` int(12) unsigned zerofill NOT NULL,  `gibbonPersonID` int(10) unsigned zerofill NOT NULL,  `relationship` varchar(50) NOT NULL,  PRIMARY KEY (`gibbonApplicationFormRelationshipID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;end
ALTER TABLE `gibbonPersonUpdate` ADD `vehicleRegistration` VARCHAR( 20 ) NOT NULL AFTER `emergency2Relationship` ;end
ALTER TABLE gibbonUnit DROP COLUMN type;end
ALTER TABLE gibbonUnitClass DROP COLUMN dateFirstLesson;end 
ALTER TABLE `gibbonPerson` ADD `lastFailIPAddress` VARCHAR( 15 ) NULL DEFAULT NULL AFTER `lastTimestamp` ,ADD `lastFailTimestamp` TIMESTAMP NULL DEFAULT NULL AFTER `lastFailIPAddress` ,ADD `failCount` INT( 1 ) NULL DEFAULT '0' AFTER `lastFailTimestamp` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'notificationDefault', 'Notification Default', 'Should acceptance email be turned on or off by default.', 'On');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'New Students', 1, 'Reports', 'A report showing all new students in the current school year.', 'report_students_new.php', 'report_students_new.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='New Students'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'Left Students', 1, 'Reports', 'A report showing all the students who have left within a specified date range.', 'report_students_left.php', 'report_students_left.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='Left Students'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Application Form', 'languageOptionsActive', 'Language Options Active', 'Should the Language Options section be turned on?', 'Off'), (NULL, 'Application Form', 'languageOptionsBlurb', 'Language Options Blurb', 'Introductory text if Language Options section is turned on.', ''), (NULL, 'Application Form', 'languageOptionsLanguageList', 'Language Options Language List', 'Comma-separated list of available language selections if Language Options section is turned on.', '');end
ALTER TABLE `gibbonApplicationForm` ADD `languageChoice` VARCHAR( 100 ) NULL AFTER `developmentInformation` ,ADD `languageChoiceExperience` TEXT NULL AFTER `languageChoice` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Markbook', 'wordpressCommentPush', 'Wordpress Comment Push', 'Where student work is submitted via a WordPress website, the teacher can choose to push their Markbook comment to the site.', 'Off');end
DROP VIEW moodleUser;end
DROP VIEW moodleCourse;end
DROP VIEW moodleEnrolment;end
UPDATE `gibbonAction` SET `URLList`='courseEnrolment_manage_byPerson.php, courseEnrolment_manage_byPerson_edit.php, courseEnrolment_manage_byPerson_edit_edit.php, courseEnrolment_manage_byPerson_edit_delete.php' WHERE `gibbonAction`.`name` ='Course Enrolment by Person' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Timetable Admin');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage File Extensions', 0, 'Other', 'Manage file extensions allowed across the system', 'fileExtensions_manage.php,fileExtensions_manage_add.php,fileExtensions_manage_edit.php,fileExtensions_manage_delete.php', 'fileExtensions_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage File Extensions'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'personalBackground', 'Personal Background', 'Should users be allowed to set their own personal backgrounds?', 'Y');end
ALTER TABLE `gibbonPerson` ADD `personalBackground` VARCHAR( 255 ) NOT NULL ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'dayTypeOptions', 'Day-Type Options', 'Comma-separated list of options to make available (e.g. half-day, full-day). If blank, this field will not show up in the application form. ', ''), (NULL , 'Application Form', 'dayTypeText', 'Day-Type Text', 'Explanatory text to include with Day-Type Otpions.', '');end
ALTER TABLE `gibbonApplicationForm` ADD `dayType` VARCHAR( 255 ) NULL AFTER `gibbonYearGroupIDEntry` ;end
ALTER TABLE `gibbonPerson` ADD `messengerLastBubble` DATE NULL DEFAULT NULL ;end
CREATE TABLE `gibbonPlannerEntryOutcome` (  `gibbonPlannerEntryOutcomeID` int(16) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonPlannerEntryID` int(14) unsigned zerofill NOT NULL,  `gibbonOutcomeID` int(8) unsigned zerofill NOT NULL,  `sequenceNumber` int(4) NOT NULL,  `content` text NOT NULL,  PRIMARY KEY (`gibbonPlannerEntryOutcomeID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 ;end
ALTER TABLE `gibbonActivity` CHANGE `payment` `payment` DECIMAL( 8, 2 ) NOT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'Student ID Cards ', 1, 'Reports', 'A report for bulk creation of student ID cards.', 'report_students_IDCards.php', 'report_students_IDCards.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='Student ID Cards'));end
UPDATE `gibbonAction` SET `name`='Edit Markbook_singleClass', description='Edit columns and grades for a single class at a time.' WHERE `gibbonAction`.`name` ='Edit Markbook' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Markbook');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Markbook'), 'Edit Markbook_multipleClassesInDepartment', 1, '', 'Edit columns and grades for a single class belonging to the user, or multiple classes within departments.', 'markbook_edit.php, markbook_edit_add.php,markbook_edit_addMulti.php,markbook_edit_edit.php, markbook_edit_delete.php,markbook_edit_data.php', 'markbook_edit.php', 'N', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Markbook' AND gibbonAction.name='Edit Markbook_multipleClassesInDepartment'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Markbook'), 'Edit Markbook_multipleClassesAcrossSchool', 2, '', 'Edit columns and grades for a single class belonging to the user, or multiple classes across the whole school.', 'markbook_edit.php, markbook_edit_add.php,markbook_edit_addMulti.php, markbook_edit_edit.php, markbook_edit_delete.php,markbook_edit_data.php', 'markbook_edit.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Markbook' AND gibbonAction.name='Edit Markbook_multipleClassesAcrossSchool'));end
ALTER TABLE `gibbonMarkbookColumn` ADD `groupingID` INT( 8 ) UNSIGNED ZEROFILL NULL DEFAULT NULL COMMENT 'A value used to group multiple markbook columns.' AFTER `gibbonPlannerEntryID` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Markbook', 'showStudentAttainmentWarning', 'Show Student Attainment Warning', 'Show low attainment grade visual warning to students?', 'Y');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Markbook', 'showStudentEffortWarning', 'Show Student Effort Warning', 'Show low effort grade visual warning to students?', 'Y');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Markbook', 'showParentAttainmentWarning', 'Show Parent Attainment Warning', 'Show low attainment grade visual warning to parents?', 'Y');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Markbook', 'showParentEffortWarning', 'Show Parent Effort Warning', 'Show low effort grade visual warning to parents?', 'Y');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Planner', 'allowOutcomeEditing', 'Allow Outcome Editing', 'Should the text within outcomes be editable when planning lessons and units?', 'Y');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Timetable'), 'View Available Spaces', 0, 'Reports', 'View unassigned rooms by timetable.', 'report_viewAvailableSpaces.php', 'report_viewAvailableSpaces.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Timetable' AND gibbonAction.name='View Available Spaces'));end
UPDATE `gibbonAction` SET `category`='View Timetables' WHERE `gibbonAction`.`name` ='View Timetable by Person' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Timetable');end
UPDATE `gibbonAction` SET `category`='View Timetables' WHERE `gibbonAction`.`name` ='View Timetable by Space' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Timetable');end
";

//v7.0.00
$count++ ;
$sql[$count][0]="7.0.00" ;
$sql[$count][1]="
ALTER TABLE `gibbonApplicationForm` DROP `parent1contactCall` ,DROP `parent1contactSMS` ,DROP `parent1contactEmail` ,DROP `parent1contactMail` ,DROP `parent2contactCall` ,DROP `parent2contactSMS` ,DROP `parent2contactEmail` ,DROP `parent2contactMail` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'imagePrivacy', 'Image Privacy', 'Should image privacy options be turned on across the system?', 'N');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'imagePrivacyBlurb', 'Image Privacy Blurb', 'Descriptive text to accompany image privacy option when shown to users.', '');end
ALTER TABLE `gibbonPerson` ADD `imagePrivacy` ENUM( '','N', 'Y' ) NOT NULL DEFAULT '' ;end
ALTER TABLE `gibbonApplicationForm` ADD `imagePrivacy` ENUM( '','N', 'Y' ) NOT NULL DEFAULT '' ;end
ALTER TABLE `gibbonPersonUpdate` ADD `imagePrivacy` ENUM( '','N', 'Y' ) NOT NULL DEFAULT '' ;end
ALTER TABLE `gibbonFamily` ADD `homeAddress` MEDIUMTEXT NOT NULL AFTER `nameAddress` ,ADD `homeAddressDistrict` VARCHAR( 255 ) NOT NULL AFTER `homeAddress` ,ADD `homeAddressCountry` VARCHAR( 255 ) NOT NULL AFTER `homeAddressDistrict` ;end
UPDATE gibbonFamily JOIN gibbonFamilyAdult ON (gibbonFamilyAdult.gibbonFamilyID=gibbonFamily.gibbonFamilyID) JOIN gibbonPerson ON (gibbonFamilyAdult.gibbonPersonID=gibbonPerson.gibbonPersonID) SET gibbonFamily.homeAddress=gibbonPerson.address1, gibbonFamily.homeAddressDistrict=gibbonPerson.address1District, gibbonFamily.homeAddressCountry=gibbonPerson.address1Country WHERE contactPriority=1 ;end
UPDATE gibbonFamily JOIN gibbonFamilyAdult ON (gibbonFamilyAdult.gibbonFamilyID=gibbonFamily.gibbonFamilyID) JOIN gibbonPerson ON (gibbonFamilyAdult.gibbonPersonID=gibbonPerson.gibbonPersonID) SET gibbonPerson.address1='', gibbonPerson.address1District='', gibbonPerson.address1Country='' WHERE gibbonFamily.homeAddress=gibbonPerson.address1 AND gibbonFamily.homeAddressDistrict=gibbonPerson.address1District AND gibbonFamily.homeAddressCountry=gibbonPerson.address1Country;end
UPDATE gibbonFamily JOIN gibbonFamilyChild ON (gibbonFamilyChild.gibbonFamilyID=gibbonFamily.gibbonFamilyID) JOIN gibbonPerson ON (gibbonFamilyChild.gibbonPersonID=gibbonPerson.gibbonPersonID) SET gibbonPerson.address1='', gibbonPerson.address1District='', gibbonPerson.address1Country='' WHERE gibbonFamily.homeAddress=gibbonPerson.address1 AND gibbonFamily.homeAddressDistrict=gibbonPerson.address1District AND gibbonFamily.homeAddressCountry=gibbonPerson.address1Country;end
ALTER TABLE `gibbonApplicationForm` CHANGE `address1` `homeAddress` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL , CHANGE `address1District` `homeAddressDistrict` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,CHANGE `address1Country` `homeAddressCountry` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibbonApplicationForm` DROP `parent1address1` ,DROP `parent1address1District` ,DROP `parent1address1Country` ,DROP `parent2address1` ,DROP `parent2address1District` ,DROP `parent2address1Country` ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Data Updater'), 'Update Family Data_any', 1, '', 'Create family data update request for any user', 'data_family.php', 'data_family.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Family Data_any'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Data Updater'), 'Update Family Data_family', 0, '', 'Allows adults in a family to create data update request for their family.', 'data_family.php', 'data_family.php', 'Y', 'Y', 'N', 'Y', 'Y', 'Y', 'N', 'Y', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Family Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Family Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Family Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Family Data_family'));end
CREATE TABLE `gibbonFamilyUpdate` (  `gibbonFamilyUpdateID` int(9) unsigned zerofill NOT NULL AUTO_INCREMENT,  `status` enum('Pending','Complete') NOT NULL DEFAULT 'Pending',  `gibbonFamilyID` int(7) unsigned zerofill NOT NULL,  `nameAddress` varchar(100) NOT NULL DEFAULT '',  `homeAddress` mediumtext NOT NULL DEFAULT '',  `homeAddressDistrict` varchar(255) NOT NULL DEFAULT '',  `homeAddressCountry` varchar(255) NOT NULL DEFAULT '',  `gibbonPersonIDUpdater` int(10) unsigned zerofill NOT NULL,  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  PRIMARY KEY (`gibbonFamilyUpdateID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Family Data Updates', 0, 'Data Updater', 'Manage requests for updates to family data.', 'data_family.php,data_family_edit.php,data_family_delete.php', 'data_family.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Family Data Updates'));end
ALTER TABLE `gibbonMessenger` ADD `emailReport` TEXT NOT NULL ,ADD `smsReport` TEXT NOT NULL ;end
INSERT INTO `gibbonModule` (`gibbonModuleID` ,`name` ,`description` ,`entryURL` ,`type` ,`active` ,`category` ,`version` ,`author` ,`url`)VALUES (NULL, 'Finance', 'Allows a school to issue invocies and track payments.', 'invoices_manage.php', 'Core', 'Y', 'Other', '', 'Ross Parker', 'http://rossparker.org') ;end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Finance'), 'Manage Fee Categories', 0, 'Admin', 'Allows users to create, edit and delete fee categories.', 'feeCategories_manage.php,feeCategories_manage_add.php,feeCategories_manage_edit.php,feeCategories_manage_delete.php', 'feeCategories_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Finance' AND gibbonAction.name='Manage Fee Categories'));end
CREATE TABLE `gibbonFinanceFeeCategory` (  `gibbonFinanceFeeCategoryID` int(4) unsigned zerofill NOT NULL AUTO_INCREMENT,  `name` varchar(100) NOT NULL,  `nameShort` varchar(6) NOT NULL,  `description` text NOT NULL,  `active` enum('Y','N') NOT NULL,  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestampCreator` timestamp NULL DEFAULT NULL,  `gibbonPersonIDUpdate` int(10) unsigned zerofill NULL DEFAULT NULL,  `timestampUpdate` timestamp NULL DEFAULT NULL,  PRIMARY KEY (`gibbonFinanceFeeCategoryID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8;end
INSERT INTO `gibbonFinanceFeeCategory` (`gibbonFinanceFeeCategoryID`, `name`, `nameShort`, `description`, `active`, `gibbonPersonIDCreator`, `timestampCreator`, `gibbonPersonIDUpdate`, `timestampUpdate`) VALUES (0001, 'Other', 'OTHR', 'Category for fees not fitting into any other category.', 'Y', 00000001, '2013-07-12 08:25:32', NULL, NULL);end
RENAME TABLE `gibbonPersonPayment` TO `gibbonFinanceInvoicee` ;end
ALTER TABLE `gibbonFinanceInvoicee` CHANGE `gibbonPersonPaymentID` `gibbonFinanceInvoiceeID` INT( 10 ) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT ;end
ALTER TABLE `gibbonFinanceInvoicee` ADD `companyAll` ENUM( 'Y', 'N' ) NULL DEFAULT NULL COMMENT 'Should company pay all invoices?.';end
ALTER TABLE `gibbonFinanceInvoicee` ADD `gibbonFinanceFeeCategoryIDList` TEXT NULL DEFAULT NULL COMMENT 'If companyAll is N, list category IDs for campany to pay here.';end
UPDATE gibbonFinanceInvoicee SET companyAll='Y' WHERE invoiceTo='Company';end
ALTER TABLE `gibbonApplicationForm` ADD `companyAll` ENUM( 'Y', 'N' ) NULL DEFAULT NULL AFTER `companyPhone` ,ADD `gibbonFinanceFeeCategoryIDList` TEXT NULL DEFAULT NULL AFTER `companyAll` ;end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Finance'), 'Manage Invoicees', 0, 'Admin', 'Allows users to view and edit invoice recipients.', 'invoicees_manage.php,invoicees_manage_edit.php', 'invoicees_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Finance' AND gibbonAction.name='Manage Invoicees'));end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Finance'), 'Manage Fees', 0, 'Admin', 'Allows users to create, view and edit fees.', 'fees_manage.php,fees_manage_edit.php,fees_manage_add.php', 'fees_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Finance' AND gibbonAction.name='Manage Fees'));end
CREATE TABLE `gibbonFinanceFee` (  `gibbonFinanceFeeID` int(6) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonSchoolYearID` int(3) unsigned zerofill NOT NULL,  `name` varchar(100) NOT NULL,  `nameShort` varchar(6) NOT NULL,  `description` text NOT NULL,  `active` enum('Y','N') NOT NULL DEFAULT 'Y',  `gibbonFinanceFeeCategoryID` int(4) unsigned zerofill NOT NULL,  `fee` decimal(12,2) NOT NULL,  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestampCreator` timestamp NULL DEFAULT NULL,  `gibbonPersonIDUpdate` int(10) unsigned zerofill DEFAULT NULL,  `timestampUpdate` timestamp NULL DEFAULT NULL,  PRIMARY KEY (`gibbonFinanceFeeID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Finance'), 'Manage Billing Schedule', 0, 'Admin', 'Allows users to create, view and edit billing windows.', 'billingSchedule_manage.php,billingSchedule_manage_edit.php,billingSchedule_manage_add.php', 'billingSchedule_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Finance' AND gibbonAction.name='Manage Billing Schedule'));end
CREATE TABLE `gibbonFinanceBillingSchedule` (  `gibbonFinanceBillingScheduleID` int(6) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonSchoolYearID` int(3) unsigned zerofill NOT NULL,  `name` varchar(100) NOT NULL,  `description` text NOT NULL,  `active` enum('Y','N') NOT NULL DEFAULT 'Y',  `invoiceIssueDate` date DEFAULT NULL,  `invoiceDueDate` date DEFAULT NULL,  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestampCreator` timestamp NULL DEFAULT NULL,  `gibbonPersonIDUpdate` int(10) unsigned zerofill DEFAULT NULL,  `timestampUpdate` timestamp NULL DEFAULT NULL,  PRIMARY KEY (`gibbonFinanceBillingScheduleID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Finance'), 'Manage Invoices', 0, 'Billing', 'Allows users to generate, view, delete and edit invoices.', 'invoices_manage.php,invoices_manage_edit.php,invoices_manage_add.php,invoices_manage_delete.php,invoices_manage_view.php,invoices_manage_issue.php,invoices_manage_print.php', 'invoices_manage.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Finance' AND gibbonAction.name='Manage Invoices'));end
CREATE TABLE `gibbonFinanceInvoice` (  `gibbonFinanceInvoiceID` int(14) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonSchoolYearID` int(3) unsigned zerofill NOT NULL,  `gibbonFinanceInvoiceeID` int(10) unsigned zerofill NOT NULL,  `invoiceTo` enum('Family','Company') NOT NULL DEFAULT 'Family',  `billingScheduleType` enum('Scheduled','Ad Hoc') NOT NULL DEFAULT 'Ad Hoc', `separated` enum('N','Y') DEFAULT NULL COMMENT 'Has this invoice been separated from its schedule in gibbonFinanceBillingSchedule? Only applies to scheduled invoices. Separation takes place during invoice issueing.', `gibbonFinanceBillingScheduleID` int(6) unsigned zerofill DEFAULT NULL,  `status` enum('Pending','Issued','Paid','Cancelled','Refunded') NOT NULL DEFAULT 'Pending',  `invoiceIssueDate` date DEFAULT NULL,  `invoiceDueDate` date DEFAULT NULL,  `paidDate` date DEFAULT NULL,  `reminderCount` int(3) NOT NULL DEFAULT '0',  `notes` text NOT NULL,  `gibbonPersonIDCreator` int(10) unsigned zerofill NOT NULL,  `timestampCreator` timestamp NULL DEFAULT NULL,  `gibbonPersonIDUpdate` int(10) unsigned zerofill DEFAULT NULL,  `timestampUpdate` timestamp NULL DEFAULT NULL,  PRIMARY KEY (`gibbonFinanceInvoiceID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
CREATE TABLE `gibbonFinanceInvoiceFee` (  `gibbonFinanceInvoiceFeeID` int(15) unsigned zerofill NOT NULL AUTO_INCREMENT,  `gibbonFinanceInvoiceID` int(14) unsigned zerofill NOT NULL,  `feeType` enum('Standard','Ad Hoc') NOT NULL DEFAULT 'Ad Hoc',  `gibbonFinanceFeeID` int(6) unsigned zerofill DEFAULT NULL,  `separated` enum('N','Y') DEFAULT NULL COMMENT 'Has this fee been separated from its parent in gibbonFinanceFee? Only applies to Standard fees. Separation takes place during invoice issueing.',  `name` varchar(100) DEFAULT NULL,  `description` text,  `gibbonFinanceFeeCategoryID` int(4) unsigned zerofill DEFAULT NULL,  `fee` decimal(12,2) DEFAULT NULL,  `sequenceNumber` int(10) DEFAULT NULL,  PRIMARY KEY (`gibbonFinanceInvoiceFeeID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonAction` (`gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Finance'), 'Invoice & Receipt Settings', 0, 'Billing', 'Allows users to edit the text that appears in invoices and receipts.', 'invoiceReceiptSettings.php', 'invoiceReceiptSettings.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N') ;end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Finance' AND gibbonAction.name='Invoice & Receipt Settings'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'invoiceText', 'Invoice Text', 'Text to appear in invoice, above invoice details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'invoiceNotes', 'Invoice Notes', 'Text to appear in invoice, below invoice details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'receiptText', 'Receipt Text', 'Text to appear in receipt, above receipt details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'receiptNotes', 'Receipt Notes', 'Text to appear in receipt, below receipt details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'reminder1Text', 'Reminder 1 Text', 'Text to appear in first level reminder level, above invoice details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'reminder2Text', 'Reminder 2 Text', 'Text to appear in second level reminder level, above invoice details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'reminder3Text', 'Reminder 3 Text', 'Text to appear in third level reminder level, above invoice details and fees.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'email', 'Email', 'Email address to send finance emails from.', '');end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Data Updater'), 'Update Finance Data_any', 1, '', 'Create finance data update request for any user', 'data_finance.php', 'data_finance.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Finance Data_any'));end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='Data Updater'), 'Update Finance Data_family', 0, '', 'Allows adults in a family to create finance data update request for their family.', 'data_finance.php', 'data_finance.php', 'Y', 'Y', 'N', 'Y', 'Y', 'Y', 'N', 'Y', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Finance Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Finance Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Finance Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Finance Data_family'));end
CREATE TABLE `gibbonFinanceInvoiceeUpdate` (  `gibbonFinanceInvoiceeUpdateID` int(12) unsigned zerofill NOT NULL AUTO_INCREMENT,  `status` enum('Pending','Complete') NOT NULL DEFAULT 'Pending',  `gibbonFinanceInvoiceeID` int(10) unsigned zerofill NOT NULL,  `invoiceTo` enum('Family','Company') NOT NULL,  `companyName` varchar(100) DEFAULT NULL,  `companyContact` varchar(100) DEFAULT NULL,  `companyAddress` varchar(255) DEFAULT NULL,  `companyEmail` varchar(255) DEFAULT NULL,  `companyPhone` varchar(20) DEFAULT NULL,  `companyAll` enum('Y','N') DEFAULT NULL COMMENT 'Should company pay all invoices?.',  `gibbonFinanceFeeCategoryIDList` text COMMENT 'If companyAll is N, list category IDs for campany to pay here.',  `gibbonPersonIDUpdater` int(10) unsigned zerofill NOT NULL,  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  PRIMARY KEY (`gibbonFinanceInvoiceeUpdateID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Finance Data Updates', 0, 'Data Updater', 'Manage requests for updates to finance data.', 'data_finance.php,data_finance_edit.php,data_finance_delete.php', 'data_finance.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Finance Data Updates'));end
ALTER TABLE `gibbonUnit` ADD `embeddable` ENUM( 'N', 'Y' ) NOT NULL DEFAULT 'N' AFTER `details` ;end
UPDATE gibbonSetting SET name='notificationStudentDefault', nameDisplay='Student Notification Default', description='Should student acceptance email be turned on or off by default.' WHERE name='notificationDefault' AND scope='Application Form';end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'notificationParentsDefault', 'Parents Notification Default', 'Should parent acceptance email be turned on or off by default.', 'On');end
DELETE FROM gibbonAction WHERE name='Staff Gold Stars' AND gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner');end
UPDATE gibbonSetting SET scope='User Admin' WHERE scope='Application Form' AND (name='dayTypeOptions' OR name='dayTypeText');end
ALTER TABLE `gibbonPerson` ADD `dayType` VARCHAR( 255 ) NULL DEFAULT NULL COMMENT 'Student day type, as specified in the application form.';end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`) VALUES (NULL , 'User Admin', 'privacyOptions', 'Privacy Options', 'Comma-separated list of choices to make available if privacy options are turned on. If blank, privacy fields will not be displayed.', '');end
UPDATE gibbonSetting SET name='privacy', nameDisplay='Privacy', description='Should privacy options be turned on across the system?' WHERE scope='User Admin' AND name='imagePrivacy';end
UPDATE gibbonSetting SET name='privacyBlurb', nameDisplay='Privacy Blurb', description='Descriptive text to accompany image privacy option when shown to users.' WHERE scope='User Admin' AND name='imagePrivacyBlurb';end
ALTER TABLE `gibbonPerson` CHANGE `imagePrivacy` `privacy` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `imagePrivacy` `privacy` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `imagePrivacy` `privacy` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Sync Users', 0, 'Import', 'Import CSV file of users, and use it to create new users and set left user status.', 'import_users.php', 'import_users.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Sync Users'));end
ALTER TABLE `gibbonPerson` CHANGE `username` `username` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Sync Student Enrolment', 0, 'Import', 'Import CSV file of students, and use it to register certain users as students.', 'import_studentEnrolment.php', 'import_studentEnrolment.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Sync Student Enrolment'));end
ALTER TABLE `gibbonFamily` ADD `familySync` VARCHAR( 50 ) NULL DEFAULT NULL ;end
INSERT INTO `gibbonAction` (`gibbonModuleID` ,`name` ,`precedence` ,`category` ,`description` ,`URLList` ,`entryURL` ,`defaultPermissionAdmin` ,`defaultPermissionTeacher` ,`defaultPermissionStudent` ,`defaultPermissionParent` ,`defaultPermissionSupport` ,`categoryPermissionStaff` ,`categoryPermissionStudent` ,`categoryPermissionParent` ,`categoryPermissionOther`) VALUES ((SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Sync Families', 0, 'Import', 'Import CSV files of families and their members, and use it to sync.', 'import_families.php', 'import_families.php', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Sync Families'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`) VALUES (NULL , 'Planner', 'sharingDefaultParents', 'Sharing Default: Parents', 'When adding lessons and deploying units, should sharing default for parents be Y or N?', 'Y');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`) VALUES (NULL , 'Planner', 'sharingDefaultStudents', 'Sharing Default: Students', 'When adding lessons and deploying units, should sharing default for students be Y or N?', 'Y');end
INSERT INTO `gibbonModule` (`gibbonModuleID`, `name`, `description`, `entryURL`, `type`, `active`, `category`, `version`, `author`, `url`) VALUES (NULL, 'Staff', 'Allows users to view staff information', 'staff_view.php', 'Core', 'Y', 'People', '', 'Ross Parker', 'http://rossparker.org');end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='Staff'), 'View Staff Profile_brief', 1, 'Profiles', 'View brief profile of any staff member in the school.', 'staff_view.php,staff_view_details.php', 'staff_view.php', 'Y', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'Y'), (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='Staff'), 'View Staff Profile_full', 2, 'Profiles', 'View full profile of any staff member in the school.', 'staff_view.php,staff_view_details.php', 'staff_view', 'Y', 'Y', 'N', 'N', 'N', 'N', 'Y', 'Y', 'Y', 'y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Staff' AND gibbonAction.name='View Staff Profile_brief'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Staff' AND gibbonAction.name='View Staff Profile_full'));end
ALTER TABLE `gibbonPersonUpdate` CHANGE `emergency1Name` `emergency1Name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency1Number1` `emergency1Number1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency1Number2` `emergency1Number2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency1Relationship` `emergency1Relationship` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency2Name` `emergency2Name` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency2Number1` `emergency2Number1` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency2Number2` `emergency2Number2` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `emergency2Relationship` `emergency2Relationship` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;end
ALTER TABLE `gibbonPersonUpdate` CHANGE `profession` `profession` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,CHANGE `employer` `employer` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,CHANGE `jobTitle` `jobTitle` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonRollGroup` ADD `gibbonSpaceID` INT( 5 ) UNSIGNED ZEROFILL NULL DEFAULT NULL AFTER `gibbonPersonIDTutor3` ;end
INSERT INTO `gibbonModule` (`gibbonModuleID`, `name`, `description`, `entryURL`, `type`, `active`, `category`, `version`, `author`, `url`) VALUES (NULL, 'Roll Groups', 'Allows users to view a listing of roll groups', 'rollGroups.php', 'Core', 'Y', 'People', '', 'Ross Parker', 'http://rossparker.org');end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='Roll Groups'), 'View Roll Groups', 1, '', 'View a brief profile of roll groups in school.', 'rollGroups.php,rollGroups_details.php', 'rollGroups.php', 'Y', 'Y', 'Y', 'Y', 'N', 'Y', 'Y', 'Y', 'Y', 'Y');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Roll Groups' AND gibbonAction.name='View Roll Groups'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Roll Groups' AND gibbonAction.name='View Roll Groups'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '3', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Roll Groups' AND gibbonAction.name='View Roll Groups'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Roll Groups' AND gibbonAction.name='View Roll Groups'));end
ALTER TABLE `gibbonCourse` ADD INDEX ( `gibbonSchoolYearID` ) ;end
ALTER TABLE `gibbonPlannerEntry` ADD INDEX ( `gibbonCourseClassID` ) ;end
ALTER TABLE `gibbonCourseClass` ADD INDEX ( `gibbonCourseID` ) ;end
ALTER TABLE `gibbonCourseClassPerson` ADD INDEX ( `gibbonCourseClassID` ) ;end
ALTER TABLE `gibbonAction` ADD INDEX ( `gibbonModuleID` ) ;end
ALTER TABLE `gibbonPermission` ADD INDEX ( `gibbonRoleID` ) ;end
ALTER TABLE `gibbonPermission` ADD INDEX ( `gibbonActionID` ) ;end
ALTER TABLE `gibbonTTColumnRow` ADD INDEX ( `gibbonTTColumnID` ) ;end
ALTER TABLE `gibbonTTDayRowClass` ADD INDEX ( `gibbonTTColumnRowID` ) ;end
ALTER TABLE `gibbonTTDayRowClass` ADD INDEX ( `gibbonCourseClassID` ) ;end
ALTER TABLE `gibbonTTDayRowClass` ADD INDEX ( `gibbonSpaceID` ) ;end
ALTER TABLE `gibbonTTDayDate` ADD INDEX ( `gibbonTTDayID` ) ;end
ALTER TABLE `gibbonStudentEnrolment` ADD INDEX ( `gibbonSchoolYearID` ) ;end
ALTER TABLE `gibbonStudentEnrolment` ADD INDEX ( `gibbonYearGroupID` ) ;end
ALTER TABLE `gibbonStudentEnrolment` ADD INDEX ( `gibbonRollGroupID` ) ;end
ALTER TABLE `gibbonBehaviour` ADD INDEX ( `gibbonPersonID` ) ;end
ALTER TABLE `gibbonResourceTag` ADD INDEX ( `tag` ) ;end
ALTER TABLE `gibbonPersonMedical` ADD INDEX ( `gibbonPersonID` ) ;end
ALTER TABLE `gibbonPersonMedicalCondition` ADD INDEX ( `gibbonPersonMedicalID` ) ;end
ALTER TABLE `gibbonMarkbookEntry` ADD INDEX ( `gibbonPersonIDStudent` );end
ALTER TABLE `gibbonMarkbookEntry` ADD INDEX ( `gibbonMarkbookColumnID` ) ;end
ALTER TABLE `gibbonMarkbookColumn` ADD INDEX ( `gibbonCourseClassID` ) ;end
OPTIMIZE TABLE `gibbonAction`, `gibbonActivity`, `gibbonActivitySlot`, `gibbonActivityStaff`, `gibbonActivityStudent`, `gibbonActivityStudentPayment`, `gibbonAlertLevel`, `gibbonApplicationForm`, `gibbonApplicationFormFile`, `gibbonApplicationFormRelationship`, `gibbonAttendanceLogPerson`, `gibbonAttendanceLogRollGroup`, `gibbonBehaviour`, `gibbonCountry`, `gibbonCourse`, `gibbonCourseClass`, `gibbonCourseClassPerson`, `gibbonCrowdAssessDiscuss`, `gibbonCrowdAssessLike`, `gibbonDaysOfWeek`, `gibbonDepartment`, `gibbonDepartmentResource`, `gibbonDepartmentStaff`, `gibbonExternalAssessment`, `gibbonExternalAssessmentField`, `gibbonExternalAssessmentStudent`, `gibbonExternalAssessmentStudentEntry`, `gibbonFamily`, `gibbonFamilyAdult`, `gibbonFamilyChild`, `gibbonFamilyRelationship`, `gibbonFamilyUpdate`, `gibbonFileExtension`, `gibbonFinanceBillingSchedule`, `gibbonFinanceFee`, `gibbonFinanceFeeCategory`, `gibbonFinanceInvoice`, `gibbonFinanceInvoicee`, `gibbonFinanceInvoiceeUpdate`, `gibbonFinanceInvoiceFee`, `gibbonHook`, `gibbonHouse`, `gibbonIN`, `gibbonINDescriptor`, `gibbonINPersonDescriptor`, `gibbonLibraryItem`, `gibbonLibraryItemEvent`, `gibbonLibraryType`, `gibbonMarkbookColumn`, `gibbonMarkbookEntry`, `gibbonMedicalCondition`, `gibbonMessenger`, `gibbonMessengerTarget`, `gibbonModule`, `gibbonOutcome`, `gibbonPermission`, `gibbonPerson`, `gibbonPersonMedical`, `gibbonPersonMedicalCondition`, `gibbonPersonMedicalConditionUpdate`, `gibbonPersonMedicalUpdate`, `gibbonPersonUpdate`, `gibbonPlannerEntry`, `gibbonPlannerEntryAttendance`, `gibbonPlannerEntryAttendanceLog`, `gibbonPlannerEntryDiscuss`, `gibbonPlannerEntryGuest`, `gibbonPlannerEntryHomework`, `gibbonPlannerEntryLike`, `gibbonPlannerEntryOutcome`, `gibbonPlannerEntryStudentTracker`, `gibbonResource`, `gibbonResourceTag`, `gibbonRole`, `gibbonRollGroup`, `gibbonRubric`, `gibbonRubricCell`, `gibbonRubricColumn`, `gibbonRubricEntry`, `gibbonRubricRow`, `gibbonScale`, `gibbonScaleGrade`, `gibbonSchoolYear`, `gibbonSchoolYearSpecialDay`, `gibbonSchoolYearTerm`, `gibbonSetting`, `gibbonSpace`, `gibbonStaff`, `gibbonStudentEnrolment`, `gibbonStudentNote`, `gibbonTheme`, `gibbonTT`, `gibbonTTColumn`, `gibbonTTColumnRow`, `gibbonTTDay`, `gibbonTTDayDate`, `gibbonTTDayRowClass`, `gibbonTTDayRowClassException`, `gibbonTTImport`, `gibbonUnit`, `gibbonUnitBlock`, `gibbonUnitClass`, `gibbonUnitClassBlock`, `gibbonUnitOutcome`, `gibbonYearGroup`;end
UPDATE gibbonAction SET defaultPermissionTeacher='Y', defaultPermissionSupport='Y' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='Data Updater') AND gibbonAction.name='Update Personal Data_family';end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Personal Data_family'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '6', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Data Updater' AND gibbonAction.name='Update Personal Data_family'));end
CREATE TABLE `gibbonStudentNoteCategory` (  `gibbonStudentNoteCategoryID` int(5) unsigned zerofill NOT NULL AUTO_INCREMENT,  `name` varchar(30) NOT NULL,  `template` text NOT NULL,  `active` enum('Y','N') NOT NULL DEFAULT 'Y',  PRIMARY KEY (`gibbonStudentNoteCategoryID`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 ;end
DELETE FROM `gibbonSetting` WHERE `scope`='Students' AND `name`='noteCategories' ;end
INSERT INTO `gibbonStudentNoteCategory` (`gibbonStudentNoteCategoryID` ,`name` ,`template` ,`active`)VALUES (NULL , 'Academic', '', 'Y'), (NULL , 'Pastoral', '', 'Y'), (NULL , 'Behaviour', '', 'Y'), (NULL , 'Other', '', 'Y');end
UPDATE gibbonAction SET URLList='studentsSettings.php,studentsSettings_noteCategory_add.php,studentsSettings_noteCategory_edit.php,studentsSettings_noteCategory_delete.php' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE gibbonModule.name='School Admin') AND gibbonAction.name='Manage Students Settings';end
ALTER TABLE `gibbonStudentNote` CHANGE `category` `gibbonStudentNoteCategoryID` INT( 5 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
UPDATE `gibbonStudentNote` SET gibbonStudentNoteCategoryID=NULL ;end
INSERT INTO `gibbonTheme` (`gibbonThemeID` ,`name` ,`description` ,`active` ,`version` ,`author` ,`url`)VALUES (NULL , 'Olden', 'Gibbon''s 2012 look and feel.', 'N', '1.0.00', 'Ross Parker', 'http://rossparker.org');end
ALTER TABLE `gibbonPerson` ADD `gibbonThemeIDPersonal` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='School Admin'), 'Manage External Assessments', 1, 'ARR', 'Add, edit and delete external assessments.', 'externalAssessments_manage.php,externalAssessments_manage_edit.php,externalAssessments_manage_edit_field_add.php,externalAssessments_manage_edit_field_edit.php,externalAssessments_manage_edit_field_delete.php, externalAssessments_manage_add.php, externalAssessments_manage_delete.php', 'externalAssessments_manage.php', 'Y', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='School Admin' AND gibbonAction.name='Manage External Assessments'));end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='Planner'), 'Staff Gold Stars', 0, 'Reports', 'A leaque table of staff gold stars...just for fun.', 'report_goldStars_staff.php', 'report_goldStars_staff.php', 'Y', 'Y', 'Y', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Planner' AND gibbonAction.name='Staff Gold Stars'));end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '2', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Planner' AND gibbonAction.name='Staff Gold Stars'));end
";


//v7.0.01
$count++ ;
$sql[$count][0]="7.0.01" ;
$sql[$count][1]="";


//v7.1.00
$count++ ;
$sql[$count][0]="7.1.00" ;
$sql[$count][1]="
ALTER TABLE `gibbonApplicationForm` CHANGE `timestamp` `timestamp` TIMESTAMP NULL DEFAULT NULL ;end
ALTER TABLE `gibbonApplicationForm` DROP `otherNames`;end
ALTER TABLE `gibbonApplicationForm` DROP `parent1otherNames`, DROP `parent2otherNames`;end
ALTER TABLE `gibbonPerson` DROP `otherNames` ;end
ALTER TABLE `gibbonPersonUpdate` DROP `otherNames` ;end
ALTER TABLE `gibbonStaff` ADD `countryOfOrigin` VARCHAR( 80 ) NOT NULL , ADD `qualifications` VARCHAR( 255 ) NOT NULL , ADD `biography` TEXT NOT NULL ;end
ALTER TABLE `gibbonStaff` ADD `biographicalGrouping` VARCHAR( 100 ) NOT NULL COMMENT 'Used for group staff when creating a staff directory.';end
ALTER TABLE `gibbonStaff` ADD `biographicalGroupingPriority` INT( 3 ) NOT NULL AFTER `biographicalGrouping` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Students', 'extendedBriefProfile', 'Extended Brief Profile', 'The extended version of the brief student profile includes contact information of parents.', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '4', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Roll Groups' AND gibbonAction.name='View Roll Groups'));end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1title` `parent1title` VARCHAR( 5 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1surname` `parent1surname` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '',CHANGE `parent1firstName` `parent1firstName` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '',CHANGE `parent1preferredName` `parent1preferredName` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '',CHANGE `parent1officialName` `parent1officialName` VARCHAR( 150 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1nameInCharacters` `parent1nameInCharacters` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1gender` `parent1gender` ENUM( 'M', 'F' ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'M';end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1relationship` `parent1relationship` VARCHAR( 50 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1languageFirst` `parent1languageFirst` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1languageSecond` `parent1languageSecond` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1citizenship1` `parent1citizenship1` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1nationalIDCardNumber` `parent1nationalIDCardNumber` VARCHAR( 30 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1residencyStatus` `parent1residencyStatus` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `parent1visaExpiryDate` `parent1visaExpiryDate` DATE NULL DEFAULT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent1phone1Type` `parent1phone1Type` ENUM('','Mobile','Home','Work','Fax','Pager','Other') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent1phone1CountryCode` `parent1phone1CountryCode` VARCHAR(7) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent1phone1` `parent1phone1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent1phone2Type` `parent1phone2Type` ENUM('','Mobile','Home','Work','Fax','Pager','Other') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent1phone2CountryCode` `parent1phone2CountryCode` VARCHAR(7) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent1phone2` `parent1phone2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent1profession` `parent1profession` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent1employer` `parent1employer` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent2title` `parent2title` VARCHAR(5) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2surname` `parent2surname` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent2firstName` `parent2firstName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent2preferredName` `parent2preferredName` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent2officialName` `parent2officialName` VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2nameInCharacters` `parent2nameInCharacters` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2gender` `parent2gender` ENUM('M','F') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'M', CHANGE `parent2relationship` `parent2relationship` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2languageFirst` `parent2languageFirst` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2languageSecond` `parent2languageSecond` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2citizenship1` `parent2citizenship1` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2nationalIDCardNumber` `parent2nationalIDCardNumber` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2residencyStatus` `parent2residencyStatus` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2visaExpiryDate` `parent2visaExpiryDate` DATE NULL DEFAULT NULL;end
ALTER TABLE `gibbonApplicationForm` CHANGE `parent2phone1Type` `parent2phone1Type` ENUM('','Mobile','Home','Work','Fax','Pager','Other') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent2phone1CountryCode` `parent2phone1CountryCode` VARCHAR(7) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2phone1` `parent2phone1` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2phone2Type` `parent2phone2Type` ENUM('','Mobile','Home','Work','Fax','Pager','Other') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '', CHANGE `parent2phone2CountryCode` `parent2phone2CountryCode` VARCHAR(7) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2phone2` `parent2phone2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL, CHANGE `parent2profession` `parent2profession` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, CHANGE `parent2employer` `parent2employer` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;end
ALTER TABLE `gibbonApplicationForm` CHANGE `agreement` `agreement` ENUM( 'N', 'Y' ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ;end
ALTER TABLE `gibbonApplicationForm` CHANGE `homeAddress` `homeAddress` MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `homeAddressDistrict` `homeAddressDistrict` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,CHANGE `homeAddressCountry` `homeAddressCountry` VARCHAR( 255 ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL ;end
ALTER TABLE `gibbonFinanceInvoicee` ADD `companyCCFamily` ENUM( 'N', 'Y' ) NULL DEFAULT NULL COMMENT 'When company is billed, should family receive a copy?' AFTER `companyEmail` ;end
ALTER TABLE `gibbonFinanceInvoiceeUpdate` ADD `companyCCFamily` ENUM( 'N', 'Y' ) NULL DEFAULT NULL COMMENT 'When company is billed, should family receive a copy?' AFTER `companyEmail` ;end
ALTER TABLE `gibbonApplicationForm` ADD `companyCCFamily` ENUM( 'N', 'Y' ) NULL DEFAULT NULL COMMENT 'When company is billed, should family receive a copy?' AFTER `companyEmail` ;end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'notificationParentsMessage', 'Parents Notification Message', 'A custom message to add to the standard email to parents on acceptance.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID` ,`scope` ,`name` ,`nameDisplay` ,`description` ,`value`)VALUES (NULL , 'Application Form', 'notificationStudentMessage', 'Student Notification Message', 'A custom message to add to the standard email to students on acceptance.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'Finance', 'invoiceNumber', 'Invoice Number Style', 'How should invoice numbers be constructed?', 'Invoice ID');end
ALTER TABLE `gibbonStaff` ADD `initials` VARCHAR( 4 ) NULL DEFAULT NULL AFTER `type` ,ADD UNIQUE (`initials`);end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='Markbook'), 'Edit Markbook_everything', 4, '', 'Allows editing of any column in any class.', 'markbook_edit.php, markbook_edit_add.php,markbook_edit_addMulti.php,markbook_edit_edit.php, markbook_edit_delete.php,markbook_edit_data.php', 'markbook_edit.php', 'Y', 'N', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Markbook' AND gibbonAction.name='Edit Markbook_everything'));end
ALTER TABLE `gibbonFinanceInvoice` ADD `paidAmount` DECIMAL( 13, 2 ) NULL DEFAULT NULL COMMENT 'The final amount paid' AFTER `paidDate` ;end
ALTER TABLE `gibbonAttendanceLogPerson` ADD INDEX ( `date` ) ;end
CREATE TABLE `gibbonDistrict` (  `gibbonDistrictID` int(6) unsigned zerofill NOT NULL AUTO_INCREMENT,  `name` varchar(30) NOT NULL,  PRIMARY KEY (`gibbonDistrictID`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;end
UPDATE `gibbonAction` SET defaultPermissionAdmin='Y' WHERE gibbonModuleID=(SELECT gibbonModuleID FROM gibbonModule WHERE name='Markbook') AND gibbonAction.name='Edit Markbook_everything';end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='User Admin'), 'Manage Districts', 0, 'User Management', 'Manage a list of districts for address autocomplete.', 'district_manage.php, district_manage_add.php, district_manage_edit.php, district_manage_delete.php', 'district_manage.php', 'Y', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Manage Districts'));end
UPDATE gibbonLibraryType SET fields='a:16:{i:0;a:6:{s:4:\"name\";s:11:\"Form Factor\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:6:\"Select\";s:7:\"options\";s:50:\"Desktop, Laptop, Tablet, Phone, Set-Top Box, Other\";s:7:\"default\";s:6:\"Laptop\";s:8:\"required\";s:1:\"Y\";}i:1;a:6:{s:4:\"name\";s:16:\"Operating System\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:2;a:6:{s:4:\"name\";s:13:\"Serial Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:3;a:6:{s:4:\"name\";s:10:\"Model Name\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:4;a:6:{s:4:\"name\";s:8:\"Model ID\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:5;a:6:{s:4:\"name\";s:8:\"CPU Type\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:6;a:6:{s:4:\"name\";s:9:\"CPU Speed\";s:11:\"description\";s:7:\"In GHz.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:7;a:6:{s:4:\"name\";s:6:\"Memory\";s:11:\"description\";s:17:\"Total RAM, in GB.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:8;a:6:{s:4:\"name\";s:7:\"Storage\";s:11:\"description\";s:30:\"Total HDD/SDD capacity, in GB.\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:1:\"6\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:9;a:6:{s:4:\"name\";s:20:\"Wireless MAC Address\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"17\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:10;a:6:{s:4:\"name\";s:17:\"Wired MAC Address\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"17\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:11;a:6:{s:4:\"name\";s:11:\"Accessories\";s:11:\"description\";s:43:\"Any chargers, display dongles, remotes etc?\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:3:\"255\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:12;a:6:{s:4:\"name\";s:15:\"Warranty Number\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:4:\"Text\";s:7:\"options\";s:2:\"50\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:13;a:6:{s:4:\"name\";s:15:\"Warranty Expiry\";s:11:\"description\";s:19:\"Format: dd/mm/yyyy.\";s:4:\"type\";s:4:\"Date\";s:7:\"options\";s:0:\"\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:14;a:6:{s:4:\"name\";s:19:\"Last Reinstall Date\";s:11:\"description\";s:19:\"Format: dd/mm/yyyy.\";s:4:\"type\";s:4:\"Date\";s:7:\"options\";s:0:\"\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}i:15;a:6:{s:4:\"name\";s:16:\"Repair Log/Notes\";s:11:\"description\";s:0:\"\";s:4:\"type\";s:8:\"Textarea\";s:7:\"options\";s:2:\"10\";s:7:\"default\";s:0:\"\";s:8:\"required\";s:1:\"N\";}}' WHERE name='Computer';end
";

//v7.1.01
$count++ ;
$sql[$count][0]="7.1.01" ;
$sql[$count][1]="
ALTER TABLE `gibbonApplicationForm` ADD `paypalPaymentTransactionID` VARCHAR( 50 ) NOT NULL AFTER `paypalPaymentPayerID` , ADD `paypalPaymentReceiptID` VARCHAR( 50 ) NOT NULL AFTER `paypalPaymentTransactionID` ;end
";

//v7.1.02
$count++ ;
$sql[$count][0]="7.1.02" ;
$sql[$count][1]="

INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'departureReasons', 'Departure Reasons', 'Comma-separated list of reasons for departure from school. If blank, user can enter any text.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleOAuth', 'Google OAuth', 'Enable OAuth login via a Google Account.', 'N');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleOAuthDomains', 'Google OAuth Domains', 'If Google OAuth is enabled, what domains should we match on. Comma-separated list.', '');end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='Students'), 'Letters Home by Roll Group', 0, 'Reports', 'Show students in roll group, less those with an older sibling, so that letters can be carried home by oldest in family.', 'report_lettersHome_byRollGroup.php', 'report_lettersHome_byRollGroup.php', 'Y', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='Students' AND gibbonAction.name='Letters Home by Roll Group'));end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleClientName', 'Google Developers Client Name', 'Name of Google Project in Devlopers Console.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleClientID', 'Google Developers Client ID', 'Client ID for Google Project In Developers Console.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleClientSecret', 'Google Developers Client Secret', 'Client Secret for Google Project In Developers Console.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleRedirectUri', 'Google Developers Redirect Url', 'Google Redirect on sucessful auth.', '');end
INSERT INTO `gibbonSetting` (`gibbonSystemSettingsID`, `scope`, `name`, `nameDisplay`, `description`, `value`) VALUES (NULL, 'User Admin', 'googleDeveloperKey', 'Google Developers Developer Key', 'Google project Developer Key.', '');end
ALTER TABLE gibbonPerson ADD INDEX (username,email) ;end
DELETE  FROM `gibbonSetting` WHERE name = 'googleOAuthDomains';end
";

//v8.0.00
$count++ ;
$sql[$count][0]="8.0.00" ;
$sql[$count][1]="
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='User Admin' AND gibbonAction.name='Manage Districts'));end
ALTER TABLE `gibbonDistrict` ENGINE = MYISAM ;end
CREATE TABLE `gibboni18n` (  `gibboni18nID` int(4) unsigned zerofill NOT NULL AUTO_INCREMENT,  `code` varchar(5) NOT NULL,  `name` varchar(50) NOT NULL,  `systemDefault` enum('Y','N') NOT NULL DEFAULT 'N',  `maintainerName` varchar(100) NOT NULL,  `maintainerWebsite` varchar(255) NOT NULL,  `dateFormat` varchar(20) NOT NULL,  `currencyCode` varchar(3) NOT NULL COMMENT '3-char',  `currencySymbol` varchar(1) NOT NULL,  PRIMARY KEY (`gibboni18nID`)) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ;end
INSERT INTO `gibboni18n` (`gibboni18nID`, `code`, `name`, `systemDefault`, `maintainerName`, `maintainerWebsite`, `dateFormat`, `currencyCode`, `currencySymbol`) VALUES(0001, 'en-GB', 'English - United Kingdom', 'Y', 'Gibbon', 'http://gibbonedu.org', 'd-m-Y', 'GBP', '£'),(0002, 'en-US', 'English - United States', 'N', 'Gibbon', 'http://gibbonedu.org', 'm-d-Y', 'USD', '$'),(0003, 'es', 'Español', 'N', 'International College Hong Kong (ICHK)', 'http://www.ichk.edu.hk', 'd-m-Y', 'EUR', '€'),(0004, 'zh-CN', '汉语 - 中国', 'N', 'International College Hong Kong (ICHK)', 'http://www.ichk.edu.hk', 'Y-m-d', 'CNY', '¥');end
INSERT INTO `gibbonAction` (`gibbonActionID`, `gibbonModuleID`, `name`, `precedence`, `category`, `description`, `URLList`, `entryURL`, `entrySidebar`, `defaultPermissionAdmin`, `defaultPermissionTeacher`, `defaultPermissionStudent`, `defaultPermissionParent`, `defaultPermissionSupport`, `categoryPermissionStaff`, `categoryPermissionStudent`, `categoryPermissionParent`, `categoryPermissionOther`) VALUES (NULL, (SELECT gibbonModuleID FROM gibbonModule WHERE name='System Admin'), 'Language Settings', 0, '', 'Allows administrators to control system-wide language and localisation settings.', 'i18n_manage.php', 'i18n_manage.php', 'Y', 'Y', 'N', 'N', 'N', 'N', 'Y', 'N', 'N', 'N');end
INSERT INTO `gibbonPermission` (`permissionID` ,`gibbonRoleID` ,`gibbonActionID`) VALUES (NULL , '1', (SELECT gibbonActionID FROM gibbonAction JOIN gibbonModule ON (gibbonAction.gibbonModuleID=gibbonModule.gibbonModuleID) WHERE gibbonModule.name='System Admin' AND gibbonAction.name='Language Settings'));end
ALTER TABLE `gibbonPerson` ADD `gibboni18nIDPersonal` INT( 4 ) UNSIGNED ZEROFILL NULL DEFAULT NULL ;end
UPDATE gibboni18n SET dateFormat='d/m/Y' WHERE code='en-GB';end
UPDATE gibboni18n SET dateFormat='m/d/Y' WHERE code='en-US';end
UPDATE gibboni18n SET dateFormat='d/m/Y' WHERE code='es';end
INSERT INTO `gibboni18n` (`code`, `name`, `systemDefault`, `maintainerName`, `maintainerWebsite`, `dateFormat`, `currencyCode`, `currencySymbol`) VALUES ('zh-HK', '體字 - 香港', 'N', 'International College Hong Kong (ICHK)', 'http://www.ichk.edu.hk', 'Y-m-d', 'HKD', '$');end
ALTER TABLE `gibboni18n` CHANGE `dateFormat` `dateFormatPHP` VARCHAR( 20 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;end
ALTER TABLE `gibboni18n` ADD `dateFormat` VARCHAR( 20 ) NOT NULL AFTER maintainerWebsite ,ADD `dateFormatRegEx` VARCHAR( 255 ) NOT NULL AFTER dateFormat ;end
UPDATE gibboni18n SET dateFormat='dd/mm/yyyy' WHERE code='en-GB';end
UPDATE gibboni18n SET dateFormat='mm/dd/yyyy' WHERE code='en-US';end
UPDATE gibboni18n SET dateFormat='dd/mm/yyyy' WHERE code='es';end
UPDATE gibboni18n SET dateFormat='yyyy-mm-dd' WHERE code='zh-CN';end
UPDATE gibboni18n SET dateFormat='dd/mm/yyyy' WHERE code='zh-HK';end
UPDATE gibboni18n SET dateFormatRegEx='/^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/i' WHERE code='en-GB';end
UPDATE gibboni18n SET dateFormatRegEx='/^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/i' WHERE code='es';end
UPDATE gibboni18n SET dateFormatRegEx='/^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/i' WHERE code='zh-HK';end
UPDATE gibboni18n SET dateFormatRegEx='/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20\d\d)/' WHERE code='en-US';end
UPDATE gibboni18n SET dateFormatRegEx='/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/' WHERE code='zh-CN';end

--LAST ICHK
--LAST HLY

";


?>